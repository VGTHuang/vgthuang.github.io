(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca34261c"],{"04d1":function(e,t,r){var n=r("342f"),i=n.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},1333:function(e,t){e.exports="varying vec2 vUv;\r\n\r\nuniform float vTextureMix;\r\n\r\nuniform sampler2D vTextures[ 2 ];\r\n\r\nvoid main()\r\n{\r\n    vec4 tColor1 = vec4(texture2D( vTextures[0], vUv ));\r\n    vec4 tColor2 = vec4(texture2D( vTextures[1], vUv ));\r\n    gl_FragColor = mix( tColor1, tColor2, vTextureMix );\r\n    // gl_FragColor = mix( tColor1, tColor2, 0.5 );\r\n    // gl_FragColor = tColor2;\r\n}"},"232b":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return h}));var n,i=r("3835"),o=r("d4ec"),a=r("bee2"),s=r("ade3"),c=(r("d3b7"),r("159b"),r("5a89")),l=r("4e0a");(function(e){e[e["RECT"]=0]="RECT",e[e["CIRCLE"]=1]="CIRCLE"})(n||(n={}));var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,h=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n.RECT,v=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:16711680;if(Object(o["a"])(this,e),Object(s["a"])(this,"cardGeometry",void 0),Object(s["a"])(this,"cardMaterial",void 0),Object(s["a"])(this,"cardMesh",void 0),Object(s["a"])(this,"stencilId",void 0),Object(s["a"])(this,"cardOutsideScene",void 0),Object(s["a"])(this,"cardInsideScene",void 0),Object(s["a"])(this,"isFocused",void 0),Object(s["a"])(this,"height",void 0),Object(s["a"])(this,"width",void 0),Object(s["a"])(this,"frontWallGeom",void 0),Object(s["a"])(this,"frontWallMesh",void 0),this.stencilId=i,this.height=t,this.width=r,u==n.RECT?this.cardGeometry=new c["R"](r,t):this.cardGeometry=new c["e"](r,64),this.cardMaterial=new c["I"]({color:15790320,stencilWrite:!0,stencilRef:i,stencilZPass:c["X"],depthWrite:!1}),this.cardMesh=new c["H"](this.cardGeometry,this.cardMaterial),this.cardMesh["tardis"]=this,this.cardMesh.position.copy(h),this.cardMesh.rotation.copy(d),this.cardOutsideScene=a,this.cardInsideScene=l,this.cardOutsideScene.add(this.cardMesh),this.isFocused=!1,this.frontWallGeom=new c["d"],this.frontWallMesh=new c["H"],null!=v){var g=(new c["H"]).copy(this.cardMesh);g.material=new c["I"]({color:f}),v.add(g)}}return Object(a["a"])(e,[{key:"addVisibleObjectGroup",value:function(e){var t=this;this._recursiveGetGroupProperty(e,(function(e){e.stencilWrite=!0,e.stencilRef=t.stencilId,e.stencilFunc=c["o"]})),this.cardOutsideScene.add(e)}},{key:"_recursiveGetGroupProperty",value:function(e,t){var r=this;e.children.forEach((function(e){e instanceof c["H"]?e.material instanceof c["F"]?t(e.material):e.material instanceof Array&&e.material.forEach((function(e){t(e)})):e instanceof c["v"]&&r._recursiveGetGroupProperty(e,t)}))}},{key:"addFrontWall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[new c["kb"](-this.width/2,-this.height/2,0),new c["kb"](-this.width/2,this.height/2,0),new c["kb"](this.width/2,this.height/2,0),new c["kb"](this.width/2,-this.height/2,0),new c["kb"](-this.width/2,-this.height/2,-e),new c["kb"](-this.width/2,this.height/2,-e),new c["kb"](this.width/2,this.height/2,-e),new c["kb"](this.width/2,-this.height/2,-e)],n=[1,0,4,5,1,4,2,1,5,6,2,5,3,2,6,7,3,6,0,3,7,4,0,7],i=[];n.forEach((function(e){var t=new c["kb"];t.copy(r[e]),i.push(t)})),this.frontWallGeom.setFromPoints(i),this.frontWallGeom.computeVertexNormals();var o=void 0==t?new c["K"]({color:10526880}):t;o.stencilWrite=!0,o.stencilRef=this.stencilId,o.stencilFunc=c["o"],this.frontWallMesh=new c["H"](this.frontWallGeom,o),this.frontWallMesh.position.copy(this.cardMesh.position),this.cardOutsideScene.add(this.frontWallMesh)}},{key:"addSkybox",value:function(e){var t=Object(l["a"])("CardSkyboxShader"),r=Object(i["a"])(t,2),n=r[0],o=r[1],a={tCube:{type:"t",value:e}},s=new c["ab"]({uniforms:a,vertexShader:n,fragmentShader:o,stencilWrite:!0,stencilRef:this.stencilId,stencilZPass:c["X"],depthWrite:!1});this.cardMaterial=s,this.cardMesh.material=this.cardMaterial}}]),e}()},"32a7":function(e,t,r){"use strict";r("4acd")},"44ec":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{ref:"canvas-container",attrs:{id:"canvas-container"}},[r("div",{staticClass:"loading-container",class:{"loading-container--hidden":e.loadingStat.isLoaded,"loading-container--none":e.loadingStat.noLoadingStat}},[r("div",{staticClass:"load-stat"},[r("div",{staticClass:"load-pgbar",style:{width:100*e.loadingStat.loaded/e.loadingStat.total+"%"}}),r("div",{staticClass:"load-text"},[e._v(e._s(Math.round(100*e.loadingStat.loaded/e.loadingStat.total))+" %")])])])]),r("div",{ref:"dom3d-container",attrs:{id:"dom3d-container"}},[r("div",{ref:"dom3d-test",attrs:{id:"dom3d-test"}},[r("p",[e._v("HTML element: Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua")])]),r("div",{ref:"dom3d-glass",attrs:{id:"dom3d-glass"},on:{click:e.onGlassClick}},[e._m(0)])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dom3d-glass-ball"},[r("div",{staticClass:"dom3d-glass-ball__text"},[e._v("html element following object")])])}],o=r("5a89"),a=r("2b0e"),s=r("d4ec"),c=r("bee2"),l=r("ade3"),h=(r("d3b7"),r("159b"),r("38cf"),r("4c53"),r("32d9")),d=r("93e9"),u=r("f93b"),v=r("61d9"),f=r("232b");function g(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){g(o,n,i,a,s,"next",e)}function s(e){g(o,n,i,a,s,"throw",e)}a(void 0)}))}}var m=r("3835"),b=r("257e"),w=r("262e"),y=r("2caf"),x=(r("96cf"),r("a434"),r("d81d"),r("4e82"),r("b64b"),r("f998")),j=r("4e0a"),O=function(){function e(t,r,n){Object(s["a"])(this,e),Object(l["a"])(this,"index",void 0),Object(l["a"])(this,"mesh",void 0),Object(l["a"])(this,"uniforms",void 0),Object(l["a"])(this,"textureList",void 0),Object(l["a"])(this,"isPushingTexture",void 0),this.index=t,this.mesh=r,this.uniforms=n,this.mesh=r,this.textureList=[],this.isPushingTexture=!1}return Object(c["a"])(e,[{key:"pushNewTexture",value:function(e){0==this.textureList.length?this.textureList.push(void 0,e):(1==this.textureList.length||this.textureList.splice(1,this.textureList.length-2),this.textureList.push(e)),0==this.isPushingTexture&&this.recPushTexture()}},{key:"recPushTexture",value:function(){var e=this;this.textureList.length<=1?this.isPushingTexture=!1:(this.isPushingTexture=!0,2==this.textureList.length&&(this.uniforms.vTextureMix.value=0,this.uniforms.vTextures.value[0]=this.textureList[0],this.uniforms.vTextures.value[1]=this.textureList[1],this.isPushingTexture=!1,x["a"].tweenNumber(0,1,(function(t){e.uniforms.vTextureMix.value=t}),(function(){e.uniforms.vTextures.value[0]=e.textureList[1],e.uniforms.vTextures.value[1]=e.textureList[1],e.uniforms.vTextureMix.value=1,e.textureList.splice(0,1),e.recPushTexture()}),500)))}}]),e}(),C=function(e){Object(w["a"])(r,e);var t=Object(y["a"])(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{numOfVisiblePics:3};Object(s["a"])(this,r),e=t.call(this),Object(l["a"])(Object(b["a"])(e),"numOfVisiblePics",void 0),Object(l["a"])(Object(b["a"])(e),"rotateNode",void 0),Object(l["a"])(Object(b["a"])(e),"isRotating",void 0),Object(l["a"])(Object(b["a"])(e),"planes",void 0),Object(l["a"])(Object(b["a"])(e),"planeWidth",void 0),Object(l["a"])(Object(b["a"])(e),"planeHeight",void 0),Object(l["a"])(Object(b["a"])(e),"planeGap",void 0),Object(l["a"])(Object(b["a"])(e),"preloadImgs",void 0),Object(l["a"])(Object(b["a"])(e),"maxPreloadImgCount",void 0),Object(l["a"])(Object(b["a"])(e),"carouselArrayRadius",void 0),Object(l["a"])(Object(b["a"])(e),"carouselArrayAngle",void 0),Object(l["a"])(Object(b["a"])(e),"currentCenter",void 0),e.isRotating=!1,e.rotateNode=new o["v"],e.add(e.rotateNode),e.currentCenter=0,e.numOfVisiblePics=n.numOfVisiblePics,e.planes=[],e.planeWidth=n.planeWidth||50,e.planeHeight=n.planeHeight||50,e.planeGap=n.planeGap||10,e.preloadImgs={},e.maxPreloadImgCount=2*e.numOfVisiblePics,e.carouselArrayRadius=n.carouselArrayRadius||100,e.carouselArrayAngle=2*Math.atan((e.planeWidth+e.planeGap)/(2*e.carouselArrayRadius));for(var i=Object(j["a"])("CarouselBasicShader"),a=Object(m["a"])(i,2),c=a[0],h=a[1],d=0;d<e.numOfVisiblePics;d++){var u={vColor:{type:"c",value:new o["g"](16711680)},vTextures:{type:"tv",value:[void 0,void 0]},vTextureMix:{type:"f",value:1}},v=new o["H"](new o["Q"](e.planeWidth,e.planeHeight,1,1),new o["ab"]({uniforms:u,vertexShader:c,fragmentShader:h})),f=d-(e.numOfVisiblePics-1)/2;v.rotation.y=-f*e.carouselArrayAngle,v.position.x=e.carouselArrayRadius*Math.sin(f*e.carouselArrayAngle),v.position.z=-e.carouselArrayRadius*Math.cos(f*e.carouselArrayAngle),e.planes.push(new O(d,v,u)),e.rotateNode.add(v)}return e.planes.forEach((function(t){e.__imgSrcToTex("https://picsum.photos/id/".concat(Math.ceil(50*Math.random()),"/200/200")).then((function(e){t.pushNewTexture(e)}))})),e}return Object(c["a"])(r,[{key:"clickToChangeTex",value:function(e,t){var r=this,n=this.planes.map((function(e){return e.mesh})),i=e.intersectObjects(n);if(1==i.length){var a=i[0].object;if(a instanceof o["H"]){var s=n.indexOf(a),c=t(s);this.__imgSrcToTex(c).then((function(e){r.planes[s].pushNewTexture(e)}))}}}},{key:"clickToRotate",value:function(e,t){var r=this.planes.map((function(e){return e.mesh})),n=e.intersectObjects(r);if(1==n.length){var i=n[0].object;if(i instanceof o["H"]){var a=r.indexOf(i),s=this.planes[a].index-this.currentCenter-Math.floor(this.planes.length/2);s<0?this.moveLeft(-s,t):s>0&&this.moveRight(s,t)}}}},{key:"moveLeft",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1?arguments[1]:void 0;if(!this.isRotating){this.isRotating=!0;for(var n=function(t){e.planes.sort((function(e,t){return t.index-e.index}));var n=e.planes[0];n.index=e.planes[e.planes.length-1].index-1;var i=n.index-(e.numOfVisiblePics-1)/2;n.mesh.rotation.y=-i*e.carouselArrayAngle,n.mesh.position.x=e.carouselArrayRadius*Math.sin(i*e.carouselArrayAngle),n.mesh.position.z=-e.carouselArrayRadius*Math.cos(i*e.carouselArrayAngle);var o=r(n.index);e.__imgSrcToTex(o).then((function(e){n.pushNewTexture(e)}))},i=0;i<t;i++)n(i);x["a"].tweenNumber(0,t,(function(t){var r=e.carouselArrayAngle*(e.currentCenter-t);e.rotateNode.rotation.y=r}),(function(){e.currentCenter-=t,e.isRotating=!1}),500)}}},{key:"moveRight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1?arguments[1]:void 0;if(!this.isRotating){this.isRotating=!0;for(var n=function(t){e.planes.sort((function(e,t){return e.index-t.index}));var n=e.planes[0];n.index=e.planes[e.planes.length-1].index+1;var i=n.index-(e.numOfVisiblePics-1)/2;n.mesh.rotation.y=-i*e.carouselArrayAngle,n.mesh.position.x=e.carouselArrayRadius*Math.sin(i*e.carouselArrayAngle),n.mesh.position.z=-e.carouselArrayRadius*Math.cos(i*e.carouselArrayAngle);var o=r(n.index);e.__imgSrcToTex(o).then((function(e){n.pushNewTexture(e)}))},i=0;i<t;i++)n(i);x["a"].tweenNumber(0,t,(function(t){var r=e.carouselArrayAngle*(e.currentCenter+t);e.rotateNode.rotation.y=r}),(function(){e.currentCenter+=t,e.isRotating=!1}),500)}}},{key:"__imgSrcToTex",value:function(){var e=p(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this,e.abrupt("return",new Promise((function(e,n){r.preloadImgs[t]&&e(r.preloadImgs[t]);var i=new o["x"];i.setCrossOrigin("anonymous"),i.load(t,(function(n){var i=new o["eb"](n);if(i.needsUpdate=!0,r.preloadImgs[t]=i,Object.keys(r.preloadImgs).length>=r.maxPreloadImgCount)for(var a in r.preloadImgs){for(var s=r.preloadImgs[a],c=!0,l=0;l<r.planes.length;l++)if(r.planes[l].uniforms.vTextures.value.indexOf(s)>-1){c=!1;break}if(c){s.dispose(),delete r.preloadImgs[a];break}}e(i)}))})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(o["v"]),M=r("25ae"),P=r("fb12"),R=r("26e3"),S=r("7d52"),k=r("7612"),T=function(){function e(t,r,n,i){var a=this;Object(s["a"])(this,e),Object(l["a"])(this,"container",void 0),Object(l["a"])(this,"renderer",void 0),Object(l["a"])(this,"cardInsideScene",void 0),Object(l["a"])(this,"scene",void 0),Object(l["a"])(this,"reflectionScene",void 0),Object(l["a"])(this,"composer",void 0),Object(l["a"])(this,"stats",void 0),Object(l["a"])(this,"refractionManager",void 0),Object(l["a"])(this,"glassMesh1Controller",void 0),Object(l["a"])(this,"mousePosX",void 0),Object(l["a"])(this,"mousePosY",void 0),Object(l["a"])(this,"pointer",void 0),Object(l["a"])(this,"camera",void 0),Object(l["a"])(this,"cameraZPosition",void 0),Object(l["a"])(this,"cameraPositionController",void 0),Object(l["a"])(this,"cameraTargetPosition",void 0),Object(l["a"])(this,"cameraWithMouseMoveFactor",void 0),Object(l["a"])(this,"cameraWithMouseRotateFactor",void 0),Object(l["a"])(this,"cursorLightGroup",void 0),Object(l["a"])(this,"cursorLight",void 0),Object(l["a"])(this,"cursorLightController",void 0),Object(l["a"])(this,"raycaster",void 0),Object(l["a"])(this,"intersectTardisCardObjs",void 0),Object(l["a"])(this,"intersectGlassObjs",void 0),Object(l["a"])(this,"glassSelected",void 0),Object(l["a"])(this,"glassIsRotating",void 0),Object(l["a"])(this,"cssScene",void 0),Object(l["a"])(this,"cssRenderer",void 0),Object(l["a"])(this,"cssAttachObject",void 0),Object(l["a"])(this,"carousel1",void 0),Object(l["a"])(this,"carousel2",void 0),Object(l["a"])(this,"loadingManager",void 0),Object(l["a"])(this,"animate",(function(){requestAnimationFrame(a.animate),a.updatecornerObject(),a.updateCamera(),a.updateCursorLight(),a.render(),a.stats.update()})),this.cameraZPosition=500,this.container=t,this.camera=new o["O"](45,window.innerWidth/window.innerHeight,1,5e3),this.renderer=new o["ob"]({alpha:!0}),this.renderer.setClearColor(16777215),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.container.appendChild(this.renderer.domElement),this.stats=new v["Stats"],this.stats.domElement.style.zIndex="100",this.container.appendChild(this.stats.domElement),this.scene=new o["Y"],this.cssScene=new o["Y"],this.cardInsideScene=new o["Y"],this.reflectionScene=new o["Y"],this.loadingManager=new o["D"]((function(){r&&r()}),(function(e,t,r){n&&n(e,t,r)}),(function(e){i&&i(e)}));var c="./cube1/",g=[c+"px.jpg",c+"nx.jpg",c+"py.jpg",c+"ny.jpg",c+"pz.jpg",c+"nz.jpg"],p=new o["i"](this.loadingManager).load(g);p.mapping=o["h"],this.scene.environment=p;var m=new o["l"];m.intensity=.8,m.position.x=80,m.position.y=80,m.position.z=100,this.scene.add(m),this.refractionManager=new S["a"](this.scene,this.container,this.renderer,this.camera);var b=new o["H"](new k["a"](40,40,40,5,5),new o["K"]({})),w=new o["H"](new o["c"](40,40,40),new o["I"]({}));w.visible=!1,b.add(w),b.rotation.set(1,1,1),this.refractionManager.addRefractionMesh(b,!0,null,65280,4219135,1.3,.8),this.glassMesh1Controller=new R["a"](b,.2,.1);var y=new d["a"](this.scene,this.camera);y.clear=!0;var x=new d["a"](this.cardInsideScene,this.camera);x.clearDepth=!0,x.clear=!1,this.composer=new h["a"](this.renderer,new o["mb"](this.container.offsetWidth*window.devicePixelRatio,this.container.offsetHeight*window.devicePixelRatio)),this.composer.addPass(y),this.composer.addPass(x),this.composer.renderTarget1.stencilBuffer=!0,this.composer.renderTarget2.stencilBuffer=!0;var j=new f["a"](100,400,110,this.scene,this.cardInsideScene,new o["kb"](0,200,0),new o["p"],f["b"].RECT,null);j.addSkybox(p);var O=new o["v"],P=new o["fb"](this.loadingManager).load("./title.png"),T=new o["H"](new o["Q"](390,90,1,1),new o["I"]({color:16777215,alphaMap:P,alphaToCoverage:!0,transparent:!0}));O.add(T),O.position.copy(j.cardMesh.position),j.addVisibleObjectGroup(O),this.cssAttachObject=j.cardMesh;var L=new f["a"](200,200,111,this.scene,this.cardInsideScene,new o["kb"](0,0,0),new o["p"],f["b"].RECT,this.reflectionScene,12636368),_=new o["fb"](this.loadingManager).load("./marble/diffuse.jpg"),F=new o["fb"](this.loadingManager).load("./marble/normal.jpg"),E=new o["fb"](this.loadingManager).load("./marble/specular.jpg"),z=[_,F,E];z.forEach((function(e){e.wrapS=e.wrapT=o["W"],e.repeat.set(1,2)}));var I=new o["v"],W=new o["fb"](this.loadingManager).load("./jutabag3ds/texture/normal.jpg"),A=new M["a"](this.loadingManager);A.setResourcePath("./jutabag3ds/texture/"),A.load("./jutabag3ds/portalgun.3ds",(function(e){if(e instanceof o["v"]){e.traverse((function(e){e instanceof o["H"]&&(console.log(e.material),e.material.color=new o["g"](16777215),e.material.normalMap=W)})),e.scale.multiplyScalar(80),e.position.x-=20,e.position.y+=10,e.position.z-=80,e.rotation.x=-2,e.rotation.z=.7,I.add(e);var t=new o["H"](new o["Q"](500,500,1,1),new o["L"]({color:13434879,map:_,normalMap:F,normalScale:new o["jb"](.1,.1),specularColorMap:E,specularIntensity:4,reflectivity:1,metalness:.2,roughness:.1,clearcoat:.5}));t.position.set(0,0,-150),I.add(t),I.position.copy(L.cardMesh.position),L.addVisibleObjectGroup(I)}}));var N=new f["a"](100,100,112,this.scene,this.cardInsideScene,new o["kb"](200,0,0),new o["p"],f["b"].CIRCLE,this.reflectionScene,13680848);this.carousel1=new C({numOfVisiblePics:5,planeWidth:80,planeHeight:80,carouselArrayRadius:120});var G=new o["fb"](this.loadingManager).load("./painting/crop1_diffuse.png"),D=new o["fb"](this.loadingManager).load("./painting/crop1_normal.png"),H=new o["fb"](this.loadingManager).load("./painting/crop1_specular.png");z=[G,D,H];var V=new o["H"](new o["Q"](500,500,1,1),new o["L"]({map:G,normalMap:D,specularColorMap:H,normalScale:new o["jb"](.4,.4),specularIntensity:.2,reflectivity:.1,metalness:.1,roughness:.4}));V.position.set(0,0,-150);var U=new o["v"];U.add(this.carousel1),U.add(V),U.position.copy(N.cardMesh.position),N.addVisibleObjectGroup(U);var Y=new f["a"](100,100,113,this.scene,this.cardInsideScene,new o["kb"](-200,0,0),new o["p"],f["b"].CIRCLE,this.reflectionScene,10535056);this.carousel2=new C({numOfVisiblePics:4,planeWidth:70,planeHeight:70,carouselArrayRadius:120});var B=new o["fb"](this.loadingManager).load("./painting/crop2_diffuse.png"),X=new o["fb"](this.loadingManager).load("./painting/crop2_normal.png"),$=new o["fb"](this.loadingManager).load("./painting/crop2_specular.png");z=[B,X],V=new o["H"](new o["Q"](500,500,1,1),new o["L"]({color:16777088,map:B,normalMap:X,specularColorMap:$,normalScale:new o["jb"](.5,.5),specularIntensity:.2,reflectivity:.8,metalness:0,roughness:.2})),V.position.set(0,0,-150);var Q=new o["v"];Q.add(this.carousel2),Q.add(V),Q.position.copy(Y.cardMesh.position),Y.addVisibleObjectGroup(Q);var Z=new o["R"](1e3,400),K=new u["a"](Z,this.reflectionScene,{flowDirection:new o["jb"](1,1),textureWidth:512,textureHeight:512});K.position.z+=200,K.position.y-=110,K.rotation.x=-.5*Math.PI,this.scene.add(K),this.cameraTargetPosition=new o["kb"](0,0,this.cameraZPosition),this.camera.position.copy(this.cameraTargetPosition),this.camera.lookAt(0,0,0),this.cameraWithMouseMoveFactor=.04,this.cameraWithMouseRotateFactor=.015,this.cameraPositionController=new R["b"](this.camera.position,.5,.05),window.addEventListener("mousemove",(function(e){J.onMouseMove(e)})),this.cursorLightGroup=new o["v"],this.cursorLight=new o["S"],this.cursorLight.intensity=1,this.cursorLight.decay=1,this.cursorLight.distance=200,this.cursorLight.color=new o["g"](11193599),this.cursorLightGroup.add(this.cursorLight),this.scene.add(this.cursorLightGroup),this.cursorLightController=new R["a"](this.cursorLightGroup,.3,.1),this.raycaster=new o["V"],this.intersectTardisCardObjs=[],this.intersectTardisCardObjs.push(j.cardMesh,L.cardMesh,N.cardMesh,Y.cardMesh),this.intersectGlassObjs=[],this.glassSelected=void 0,this.glassIsRotating=!1,this.intersectGlassObjs.push(w),this.mousePosX=0,this.mousePosY=0,this.pointer=new o["jb"];var J=this;window.addEventListener("resize",(function(){J.onWindowResize()})),window.addEventListener("click",(function(e){J.onClick(e)})),this.animate()}return Object(c["a"])(e,[{key:"render",value:function(){this.composer.render(),this.renderer.clearDepth(),this.refractionManager.render(),this.cssRenderer&&this.cssRenderer.render(this.cssScene,this.camera)}},{key:"onWindowResize",value:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.refractionManager.onWindowResize(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.composer.setSize(window.innerWidth,window.innerHeight),this.cssRenderer&&this.cssRenderer.setSize(window.innerWidth,window.innerHeight)}},{key:"onMouseMove",value:function(e){var t=this;this.mousePosX=e.clientX,this.mousePosY=e.clientY,this.pointer.x=e.clientX/window.innerWidth*2-1,this.pointer.y=-e.clientY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.pointer,this.camera);var r=this.raycaster.intersectObjects(this.intersectGlassObjs,!1);if(1!=r.length||this.glassIsRotating||this.glassSelected===r[0].object.parent){if(0==r.length&&!this.glassIsRotating&&void 0!==this.glassSelected){console.log("out"),this.glassIsRotating=!0;var n=this.glassSelected,i=this.glassSelected["refractionObject"];x["a"].tweenEuler(this.glassSelected.rotation,new o["p"](1,1,1),(function(e){n.rotation.copy(e)}),(function(){t.glassIsRotating=!1}),500),x["a"].tweenNumber(0,1,(function(e){i.refractionMaterialUniforms["absorbColor"].value.b=e}),(function(){}),500),this.glassSelected=void 0}}else{console.log("in"),this.glassIsRotating=!0;var a=r[0].object.parent,s=a?a["refractionObject"]:null;a instanceof o["H"]&&s instanceof S["b"]&&(this.glassSelected=a,x["a"].tweenEuler(this.glassSelected.rotation,new o["p"](1,6,1),(function(e){a.rotation.copy(e)}),(function(){t.glassIsRotating=!1}),500),x["a"].tweenNumber(1,0,(function(e){s.refractionMaterialUniforms["absorbColor"].value.b=e}),(function(){}),500))}}},{key:"onClick",value:function(e){var t=this;if(!this.glassSelected){var r=this.raycaster.intersectObjects(this.intersectTardisCardObjs,!1);if(1==r.length){var n=r[0];x["a"].tweenThreeVector3(this.cameraTargetPosition,new o["kb"](n.object.position.x,n.object.position.y,this.cameraTargetPosition.z),(function(e){t.cameraTargetPosition.copy(e)}),(function(){}),750),this.carousel1.clickToRotate(this.raycaster,(function(e){return console.log("new carousel img index",e),"https://picsum.photos/id/".concat(Math.ceil(50*Math.random()),"/200/200")})),this.carousel2.clickToChangeTex(this.raycaster,(function(e){return console.log("new carousel img index",e),"https://picsum.photos/id/".concat(Math.ceil(50*Math.random()),"/200/200")}))}}}},{key:"getRaycastPos",value:function(e,t){var r=2*e/window.innerWidth-1,n=1-2*t/window.innerHeight,i=new o["kb"](r,n,.995);return i.unproject(this.camera),i}},{key:"updatecornerObject",value:function(){var e=this.getRaycastPos(window.innerWidth-200,window.innerHeight/2);this.glassMesh1Controller.update(e)}},{key:"updateCamera",value:function(){var e=window.innerWidth/2-this.mousePosX,t=window.innerHeight/2-this.mousePosY,r=new o["kb"](-e*this.cameraWithMouseMoveFactor,t*this.cameraWithMouseMoveFactor,0).add(this.cameraTargetPosition);this.cameraPositionController.update(r);var n=this.cameraPositionController.velocity;this.camera.rotation.x=n.y*this.cameraWithMouseRotateFactor,this.camera.rotation.y=-n.x*this.cameraWithMouseRotateFactor}},{key:"updateCursorLight",value:function(){if(!isNaN(this.mousePosX)&&!isNaN(this.mousePosY)){var e=this.getRaycastPos(this.mousePosX,this.mousePosY),t=this.camera.position.z,r=(new o["kb"]).copy(e);r=r.sub(this.camera.position);var n=-200,i=(n-t)/r.z;e.copy(this.camera.position),r.multiplyScalar(i),e.add(r),e.z+=100,this.cursorLightController.update(e)}}},{key:"registerCSSCoordinator",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new o["kb"],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;void 0==this.cssRenderer&&(this.cssRenderer=new P["b"](e),this.cssRenderer.setSize(window.innerWidth,window.innerHeight));var i=new P["a"](t);return i.position.copy(r),i.scale.multiplyScalar(n),this.cssScene.add(i),i}}]),e}(),L=a["a"].extend({data:function(){return{fpm:null,loadingStat:{loaded:1,total:2,isLoaded:!1,noLoadingStat:!1}}},mounted:function(){var e=this,t=this;if(this.$refs["canvas-container"]instanceof HTMLElement){if(this.fpm=new T(this.$refs["canvas-container"],(function(){console.log("loaded"),t.loadingStat.isLoaded=!0,setTimeout((function(){t.loadingStat.noLoadingStat=!0}),501)}),(function(t,r,n){e.loadingStat.loaded=r,e.loadingStat.total=n}),(function(e){console.error("failed to load asset: "+e),t.loadingStat.isLoaded=!0})),this.$refs["dom3d-container"]instanceof HTMLElement&&this.$refs["dom3d-glass"]instanceof HTMLElement){var r=this.fpm.registerCSSCoordinator(this.$refs["dom3d-container"],this.$refs["dom3d-glass"],new o["kb"](0,20,10));r.setFollowObject(this.fpm.glassMesh1Controller.object,new o["kb"])}this.$refs["dom3d-container"]instanceof HTMLElement&&this.$refs["dom3d-test"]instanceof HTMLElement&&this.fpm.registerCSSCoordinator(this.$refs["dom3d-container"],this.$refs["dom3d-test"],new o["kb"](-200,110,0))}},methods:{onGlassClick:function(){alert("glass clicked!")}}}),_=L,F=(r("32a7"),r("2877")),E=Object(F["a"])(_,n,i,!1,null,"530f970e",null);t["default"]=E.exports},"4acd":function(e,t,r){},"4e0a":function(e,t,r){"use strict";function n(e){try{var t=r("5d16")("./"+e+"/V.glsl"),n=r("8e1c")("./"+e+"/F.glsl");return[t,n]}catch(i){return console.error("failed to fetch shader",i),["",""]}}r.d(t,"a",(function(){return n}))},"4e82":function(e,t,r){"use strict";var n=r("23e7"),i=r("e330"),o=r("59ed"),a=r("7b0b"),s=r("07fa"),c=r("577e"),l=r("d039"),h=r("addb"),d=r("a640"),u=r("04d1"),v=r("d998"),f=r("2d00"),g=r("512c"),p=[],m=i(p.sort),b=i(p.push),w=l((function(){p.sort(void 0)})),y=l((function(){p.sort(null)})),x=d("sort"),j=!l((function(){if(f)return f<70;if(!(u&&u>3)){if(v)return!0;if(g)return g<603;var e,t,r,n,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)p.push({k:t+n,v:r})}for(p.sort((function(e,t){return t.v-e.v})),n=0;n<p.length;n++)t=p[n].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),O=w||!y||!x||!j,C=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}};n({target:"Array",proto:!0,forced:O},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(j)return void 0===e?m(t):m(t,e);var r,n,i=[],c=s(t);for(n=0;n<c;n++)n in t&&b(i,t[n]);h(i,C(e)),r=i.length,n=0;while(n<r)t[n]=i[n++];while(n<c)delete t[n++];return t}})},"512c":function(e,t,r){var n=r("342f"),i=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},"5d16":function(e,t,r){var n={"./CardSkyboxShader/V.glsl":"8437","./CarouselBasicShader/V.glsl":"f4ce","./FresnelShader/V.glsl":"8c9f","./GlassFrontShader/V.glsl":"c182","./ParticleShader/V.glsl":"b837"};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="5d16"},"71cc":function(e,t){e.exports="uniform vec2 resolution;\r\nuniform sampler2D tBackground;\r\nuniform sampler2D tBackDepth;\r\nuniform sampler2D tDisplayImage;\r\n\r\nvarying vec2 vUv;\r\nvarying vec3 vNormal;\r\nvarying vec3 vCameraRay;\r\nvarying vec4 vWorldPosition;\r\nvarying mat4 vProjectionMatrix;\r\n\r\nfloat near = 0.1;\r\nfloat far  = 20000.0; \r\n\r\nfloat LinearizeDepth(float depth) \r\n{\r\n    float z = depth * 2.0 - 1.0; // back to NDC \r\n    return (2.0 * near * far) / (far + near - z * (far - near));\t\r\n}\r\n\r\nfloat refractionFactor = 1.49; // glass\r\n\r\nvoid main() {\r\n\r\n    vec4 image = texture2D( tDisplayImage, vec2( gl_FragCoord.x / resolution.x, gl_FragCoord.y / resolution.y ) );\r\n    float backDepth = float(texture2D( tBackDepth, vec2( gl_FragCoord.x / resolution.x, gl_FragCoord.y / resolution.y ) ).x);\r\n    float frontDepth = gl_FragCoord.z;\r\n\r\n    float backDepthlinear = LinearizeDepth(backDepth);\r\n    float frontDepthlinear = LinearizeDepth(frontDepth);\r\n    \r\n    float backToFrontDepth = backDepthlinear - frontDepthlinear;\r\n    backToFrontDepth *= 0.005;\r\n    \r\n    vec3 vRefract = refract( vCameraRay, vNormal, 1.0 / refractionFactor );\r\n    vec4 vOriginalPos = vWorldPosition + vec4(vCameraRay, 0.0);\r\n    vec4 vRefractedPos = vWorldPosition + vec4(vRefract, 0.0);\r\n    // vRefractedPos = vOriginalPos; //vWorldPosition + vec4(vRefract, 0.0);\r\n    vec4 vOriginalProjectedPos = vProjectionMatrix * vOriginalPos;\r\n    vec4 vRefractedProjectedPos = vProjectionMatrix * vRefractedPos;\r\n    vec4 offset = normalize(vRefractedProjectedPos - vOriginalProjectedPos);\r\n\r\n    // snell's law\r\n    float cosTheta1 = dot(vCameraRay, vNormal);\r\n    float sinTheta1 = 1.0 - cosTheta1 * cosTheta1;\r\n    float sinTheta2 = sinTheta1 / refractionFactor;\r\n    float theta2 = asin(sinTheta2);\r\n    offset *= theta2;\r\n\r\n    float samplePointX = gl_FragCoord.x / resolution.x + backToFrontDepth * offset.x;\r\n    float samplePointY = gl_FragCoord.y / resolution.y + backToFrontDepth * offset.y;\r\n    \r\n    vec3 backColor = texture2D( tBackground, vec2( samplePointX, samplePointY ) ).xyz;\r\n    // vec4 vNewSample = projectionMatrix * (vec4(vRefract, 0.0) + worldPosition);\r\n    // vRefractOffset = vNewSample.xy / vNewSample.w;\r\n    // // vNormal = normal;\r\n    // vec3 vRefractOffsetT = vRefract + 0.5;\r\n    // gl_FragColor = vec4(backColor * 0.5 + vNormal * 0.2 + depthColor * 0.1, 1.0);\r\n    gl_FragColor = vec4(backColor, 1.0);\r\n    // gl_FragColor = vec4(vec3(backToFrontDepth) * 100.0, 1.0);\r\n    // gl_FragColor = vec4(offset.xy / offset.w + 0.5, 0.0, 1.0);\r\n    // gl_FragColor = vec4(vec3(theta2), 1.0);\r\n\r\n    // gl_FragColor = vec4(vec3(gl_FragCoord.z / gl_FragCoord.w - fragColor2.x * 10.0) / 2000.0, 1.0);\r\n}"},"7bcb":function(e,t){e.exports="uniform samplerCube tCube;\r\nvarying vec3 vReflect;\r\nvarying vec3 vRefract[3];\r\nvarying float vReflectionFactor;\r\nvarying vec2 vUv;\r\n\r\nuniform sampler2D tNormal;\r\n\r\nvoid main() {\r\n\r\n    vec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\r\n    vec4 refractedColor = vec4( 1.0 );\r\n\r\n    vec3 tnm = vec3(texture2D(tNormal, vUv));\r\n    tnm = tnm * 2.0 - 1.0;\r\n    tnm = 0.0 * tnm;\r\n    // tnm *= 0.01;\r\n    refractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) - tnm ).r;\r\n    refractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) - tnm ).g;\r\n    refractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) - tnm ).b;\r\n\r\n    gl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );\r\n}"},8437:function(e,t){e.exports="varying vec3 vPos;\r\n\r\nvoid main() {\r\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n    gl_Position = projectionMatrix * mvPosition;\r\n    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\r\n    vPos = worldPosition.xyz - cameraPosition;\r\n}\r\n"},"8c9f":function(e,t){e.exports="uniform float mRefractionRatio;\r\nuniform float mFresnelBias;\r\nuniform float mFresnelScale;\r\nuniform float mFresnelPower;\r\n\r\nvarying vec3 vReflect;\r\nvarying vec3 vRefract[3];\r\nvarying float vReflectionFactor;\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\r\n\r\n    vec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\r\n\r\n    vec3 I = worldPosition.xyz - cameraPosition;\r\n\r\n    vReflect = reflect( I, worldNormal );\r\n    vRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );\r\n    vRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );\r\n    vRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );\r\n    vReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );\r\n\r\n    gl_Position = projectionMatrix * mvPosition;\r\n    vUv = uv;\r\n\r\n}\r\n"},"8e1c":function(e,t,r){var n={"./CardSkyboxShader/F.glsl":"91bc","./CarouselBasicShader/F.glsl":"1333","./FresnelShader/F.glsl":"7bcb","./GlassFrontShader/F.glsl":"71cc","./ParticleShader/F.glsl":"d32d"};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="8e1c"},"91bc":function(e,t){e.exports="uniform samplerCube tCube;\r\nvarying vec3 vPos;\r\n\r\nvoid main() {\r\n    vec4 reflectedColor = textureCube( tCube, vec3(-vPos.x, vPos.yz) );\r\n    gl_FragColor = reflectedColor;\r\n}"},"96cf":function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new k(n||[]);return o._invoke=M(e,r,a),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d="suspendedStart",u="suspendedYield",v="executing",f="completed",g={};function p(){}function m(){}function b(){}var w={};c(w,o,(function(){return this}));var y=Object.getPrototypeOf,x=y&&y(y(T([])));x&&x!==r&&n.call(x,o)&&(w=x);var j=b.prototype=p.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(i,o,a,s){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;function o(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function M(e,t,r){var n=d;return function(i,o){if(n===v)throw new Error("Generator is already running");if(n===f){if("throw"===i)throw o;return L()}r.method=i,r.arg=o;while(1){var a=r.delegate;if(a){var s=P(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var c=h(e,t,r);if("normal"===c.type){if(n=r.done?f:u,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=f,r.method="throw",r.arg=c.arg)}}}function P(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=h(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function T(e){if(e){var r=e[o];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){while(++i<e.length)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:L}}function L(){return{value:t,done:!0}}return m.prototype=b,c(j,"constructor",b),c(b,"constructor",m),m.displayName=c(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},O(C.prototype),c(C.prototype,a,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new C(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(j),c(j,s,"Generator"),c(j,o,(function(){return this})),c(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=n}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},a434:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("23cb"),a=r("5926"),s=r("07fa"),c=r("7b0b"),l=r("65f0"),h=r("8418"),d=r("1dde"),u=d("splice"),v=i.TypeError,f=Math.max,g=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var r,n,i,d,u,b,w=c(this),y=s(w),x=o(e,y),j=arguments.length;if(0===j?r=n=0:1===j?(r=0,n=y-x):(r=j-2,n=g(f(a(t),0),y-x)),y+r-n>p)throw v(m);for(i=l(w,n),d=0;d<n;d++)u=x+d,u in w&&h(i,d,w[u]);if(i.length=n,r<n){for(d=x;d<y-n;d++)u=d+n,b=d+r,u in w?w[b]=w[u]:delete w[b];for(d=y;d>y-n+r;d--)delete w[d-1]}else if(r>n)for(d=y-n;d>x;d--)u=d+n-1,b=d+r-1,u in w?w[b]=w[u]:delete w[b];for(d=0;d<r;d++)w[d+x]=arguments[d+2];return w.length=y-n+r,i}})},addb:function(e,t,r){var n=r("4dae"),i=Math.floor,o=function(e,t){var r=e.length,c=i(r/2);return r<8?a(e,t):s(e,o(n(e,0,c),t),o(n(e,c),t),t)},a=function(e,t){var r,n,i=e.length,o=1;while(o<i){n=o,r=e[o];while(n&&t(e[n-1],r)>0)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},s=function(e,t,r,n){var i=t.length,o=r.length,a=0,s=0;while(a<i||s<o)e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e};e.exports=o},b64b:function(e,t,r){var n=r("23e7"),i=r("7b0b"),o=r("df75"),a=r("d039"),s=a((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(e){return o(i(e))}})},b837:function(e,t){e.exports="precision highp float;\r\n\r\nuniform mat4 modelViewMatrix;\r\nuniform mat4 projectionMatrix;\r\n// uniform vec2 uv;\r\n\r\nattribute vec3 position;\r\nattribute vec3 vPos;\r\n\r\nattribute vec3  customColor;\r\nattribute float customOpacity;\r\nattribute float customSize;\r\nattribute float customVisible;  // float used as boolean (0 = false, 1 = true)\r\n\r\n// varying vec2 vUv;\r\nvarying vec4  vColor;\r\nvarying float vAngle;\r\n\r\nvoid main()\r\n{\r\n\tif ( customVisible > 0.5 ) \t\t\t\t// true\r\n\t\tvColor = vec4( customColor, customOpacity ); //     set color associated to vertex; use later in fragment shader.\r\n\telse\t\t\t\t\t\t\t// false\r\n\t\tvColor = vec4(0.0, 0.0, 0.0, 0.0); \t\t//     make particle invisible.\r\n    mat3 scaleMatrix = mat3(customSize, 0.0, 0.0, 0.0, customSize, 0.0, 0.0, 0.0, customSize);\r\n\tvec4 mvPosition = modelViewMatrix * vec4( vPos + scaleMatrix * position, 1.0 );\r\n\tgl_PointSize = customSize * ( 300.0 / length( mvPosition.xyz ) );     // scale particles as objects in 3D space\r\n\tgl_Position = projectionMatrix * mvPosition;\r\n    // vUv = uv;\r\n    // vUv = vec2(1.0, 0.4);\r\n    // gl_Position = projectionMatrix * modelViewMatrix * vec4( vPos + position, 1.0 );\r\n}"},c182:function(e,t){e.exports="varying vec2 vUv;\r\nvarying vec3 vNormal;\r\nvarying vec3 vCameraRay;\r\nvarying vec4 vWorldPosition;\r\nvarying mat4 vProjectionMatrix;\r\n// varying vec3 vRefract;\r\n// varying vec2 vRefractOffset;\r\n\r\n\r\nvoid main() {\r\n    vWorldPosition = modelMatrix * vec4( position, 1.0 );\r\n    vec4 mvPosition = viewMatrix * vWorldPosition;\r\n    gl_Position = projectionMatrix * mvPosition;\r\n    vUv = uv;\r\n\r\n    vNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\r\n    vCameraRay = normalize(vWorldPosition.xyz - cameraPosition);\r\n\r\n    vProjectionMatrix = projectionMatrix * modelViewMatrix;\r\n}\r\n"},d32d:function(e,t){e.exports="precision highp float;\r\n\r\nuniform sampler2D texture;\r\n\r\n// varying vec2 vUv;\r\nvarying vec4 vColor;\r\nvarying float vAngle;\r\n\r\nvoid main()\r\n{\r\n\tgl_FragColor = vColor;\r\n\t\r\n\t// float c = cos(vAngle);\r\n\t// float s = sin(vAngle);\r\n\t// vec2 rotatedUV = vec2(c * (gl_PointCoord.x - 0.5) + s * (gl_PointCoord.y - 0.5) + 0.5,\r\n\t//                       c * (gl_PointCoord.y - 0.5) - s * (gl_PointCoord.x - 0.5) + 0.5);  // rotate UV coordinates to rotate texture\r\n    // vec4 rotatedTexture = texture2D( texture,  rotatedUV );\r\n    // vec4 rotatedTexture = texture2D( texture,  vUv );\r\n\t// gl_FragColor = rotatedTexture;    // sets an otherwise white particle texture to desired color\r\n    // gl_FragColor = vec4(vUv.x, vUv.y, 0.0, 1.0);\r\n}"},d81d:function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").map,o=r("1dde"),a=o("map");n({target:"Array",proto:!0,forced:!a},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,r){var n=r("342f");e.exports=/MSIE|Trident/.test(n)},f4ce:function(e,t){e.exports="varying vec2 vUv;\r\nvoid main() {\r\n    vUv = vec2(1.0, 0.5);\r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}"}}]);
//# sourceMappingURL=chunk-ca34261c.76caed72.js.map