(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50f83664"],{"00b4":function(e,t,r){"use strict";r("ac1f");var n=r("23e7"),i=r("da84"),o=r("c65b"),a=r("e330"),s=r("1626"),c=r("861d"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),h=i.Error,f=a(/./.test);n({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!s(t))return f(this,e);var r=o(t,this,e);if(null!==r&&!c(r))throw new h("RegExp exec method returned something other than an Object or null");return!!r}})},"0538":function(e,t,r){"use strict";var n=r("da84"),i=r("e330"),o=r("59ed"),a=r("861d"),s=r("1a2d"),c=r("f36a"),l=r("40d5"),h=n.Function,f=i([].concat),u=i([].join),d={},v=function(e,t,r){if(!s(d,t)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";d[t]=h("C,a","return new C("+u(n,",")+")")}return d[t](e,r)};e.exports=l?h.bind:function(e){var t=o(this),r=t.prototype,n=c(arguments,1),i=function(){var r=f(n,c(arguments));return this instanceof i?v(t,r.length,r):t.apply(e,r)};return a(r)&&(i.prototype=r),i}},"107c":function(e,t,r){var n=r("d039"),i=r("da84"),o=i.RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"10d1":function(e,t,r){"use strict";var n,i=r("da84"),o=r("e330"),a=r("e2cc"),s=r("f183"),c=r("6d61"),l=r("acac"),h=r("861d"),f=r("4fad"),u=r("69f3").enforce,d=r("7f9a"),v=!i.ActiveXObject&&"ActiveXObject"in i,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},m=c("WeakMap",p,l);if(d&&v){n=l.getConstructor(p,"WeakMap",!0),s.enable();var b=m.prototype,g=o(b["delete"]),y=o(b.has),x=o(b.get),w=o(b.set);a(b,{delete:function(e){if(h(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new n),g(this,e)||t.frozen["delete"](e)}return g(this,e)},has:function(e){if(h(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new n),y(this,e)||t.frozen.has(e)}return y(this,e)},get:function(e){if(h(e)&&!f(e)){var t=u(this);return t.frozen||(t.frozen=new n),y(this,e)?x(this,e):t.frozen.get(e)}return x(this,e)},set:function(e,t){if(h(e)&&!f(e)){var r=u(this);r.frozen||(r.frozen=new n),y(this,e)?w(this,e,t):r.frozen.set(e,t)}else w(this,e,t);return this}})}},1333:function(e,t){e.exports="varying vec2 vUv;\r\n\r\nuniform float vTextureMix;\r\n\r\nuniform sampler2D vTextures[ 2 ];\r\n\r\nvoid main()\r\n{\r\n    vec4 tColor1 = vec4(texture2D( vTextures[0], vUv ));\r\n    vec4 tColor2 = vec4(texture2D( vTextures[1], vUv ));\r\n    gl_FragColor = mix( tColor1, tColor2, vTextureMix );\r\n    // gl_FragColor = mix( tColor1, tColor2, 0.5 );\r\n    // gl_FragColor = tColor2;\r\n}"},"1b53":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return s}));var n=r("5a89");class i{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const o=new n["ab"](-1,1,1,-1,0,1),a=new n["h"];a.setAttribute("position",new n["A"]([-1,3,0,-1,-1,0,3,-1,0],3)),a.setAttribute("uv",new n["A"]([0,2,0,0,2,0],2));class s{constructor(e){this._mesh=new n["T"](a,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,o)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}},"1dde":function(e,t,r){var n=r("d039"),i=r("b622"),o=r("2d00"),a=i("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"232b":function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return h}));var n,i=r("3835"),o=r("d4ec"),a=r("bee2"),s=r("ade3"),c=(r("d3b7"),r("159b"),r("5a89")),l=r("4e0a");(function(e){e[e["RECT"]=0]="RECT",e[e["CIRCLE"]=1]="CIRCLE"})(n||(n={}));var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,h=arguments.length>5?arguments[5]:void 0,f=arguments.length>6?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:n.RECT,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,v=arguments.length>9&&void 0!==arguments[9]?arguments[9]:16711680;if(Object(o["a"])(this,e),Object(s["a"])(this,"cardGeometry",void 0),Object(s["a"])(this,"cardMaterial",void 0),Object(s["a"])(this,"cardMesh",void 0),Object(s["a"])(this,"stencilId",void 0),Object(s["a"])(this,"cardOutsideScene",void 0),Object(s["a"])(this,"cardInsideScene",void 0),Object(s["a"])(this,"isFocused",void 0),Object(s["a"])(this,"height",void 0),Object(s["a"])(this,"width",void 0),Object(s["a"])(this,"frontWallGeom",void 0),Object(s["a"])(this,"frontWallMesh",void 0),this.stencilId=i,this.height=t,this.width=r,u==n.RECT?this.cardGeometry=new c["fb"](r,t):this.cardGeometry=new c["j"](r,64),this.cardMaterial=new c["U"]({color:15790320,stencilWrite:!0,stencilRef:i,stencilZPass:c["nb"],depthWrite:!1}),this.cardMesh=new c["T"](this.cardGeometry,this.cardMaterial),this.cardMesh["tardis"]=this,this.cardMesh.position.copy(h),this.cardMesh.rotation.copy(f),this.cardOutsideScene=a,this.cardInsideScene=l,this.cardOutsideScene.add(this.cardMesh),this.isFocused=!1,this.frontWallGeom=new c["h"],this.frontWallMesh=new c["T"],null!=d){var p=(new c["T"]).copy(this.cardMesh);p.material=new c["U"]({color:v}),d.add(p)}}return Object(a["a"])(e,[{key:"addVisibleObjectGroup",value:function(e){var t=this;this._recursiveGetGroupProperty(e,(function(e){e.stencilWrite=!0,e.stencilRef=t.stencilId,e.stencilFunc=c["v"]})),this.cardOutsideScene.add(e)}},{key:"_recursiveGetGroupProperty",value:function(e,t){var r=this;e.children.forEach((function(e){e instanceof c["T"]?e.material instanceof c["P"]?t(e.material):e.material instanceof Array&&e.material.forEach((function(e){t(e)})):e instanceof c["D"]&&r._recursiveGetGroupProperty(e,t)}))}},{key:"addFrontWall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=[new c["Fb"](-this.width/2,-this.height/2,0),new c["Fb"](-this.width/2,this.height/2,0),new c["Fb"](this.width/2,this.height/2,0),new c["Fb"](this.width/2,-this.height/2,0),new c["Fb"](-this.width/2,-this.height/2,-e),new c["Fb"](-this.width/2,this.height/2,-e),new c["Fb"](this.width/2,this.height/2,-e),new c["Fb"](this.width/2,-this.height/2,-e)],n=[1,0,4,5,1,4,2,1,5,6,2,5,3,2,6,7,3,6,0,3,7,4,0,7],i=[];n.forEach((function(e){var t=new c["Fb"];t.copy(r[e]),i.push(t)})),this.frontWallGeom.setFromPoints(i),this.frontWallGeom.computeVertexNormals();var o=void 0==t?new c["W"]({color:10526880}):t;o.stencilWrite=!0,o.stencilRef=this.stencilId,o.stencilFunc=c["v"],this.frontWallMesh=new c["T"](this.frontWallGeom,o),this.frontWallMesh.position.copy(this.cardMesh.position),this.cardOutsideScene.add(this.frontWallMesh)}},{key:"addSkybox",value:function(e){var t=Object(l["a"])("CardSkyboxShader"),r=Object(i["a"])(t,2),n=r[0],o=r[1],a={tCube:{type:"t",value:e}},s=new c["qb"]({uniforms:a,vertexShader:n,fragmentShader:o,stencilWrite:!0,stencilRef:this.stencilId,stencilZPass:c["nb"],depthWrite:!1});this.cardMaterial=s,this.cardMesh.material=this.cardMaterial}}]),e}()},"257e":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d9e2");function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"262e":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d9e2");function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}},"26e3":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return l}));var n=r("d4ec"),i=r("bee2"),o=r("ade3"),a=(r("4c53"),r("d3b7"),r("159b"),r("5a89")),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;Object(n["a"])(this,e),Object(o["a"])(this,"damp",void 0),Object(o["a"])(this,"attract",void 0),Object(o["a"])(this,"object",void 0),Object(o["a"])(this,"velocity",void 0),Object(o["a"])(this,"childObjects",void 0),this.damp=r,this.attract=i,this.object=t,this.velocity=new a["Fb"],this.childObjects=[]}return Object(i["a"])(e,[{key:"addChildObj",value:function(e){this.childObjects.push(e)}},{key:"update",value:function(e){var t=this;this.velocity.multiplyScalar(this.damp);var r=e.sub(this.object.position);this.velocity.add(r.multiplyScalar(this.attract)),this.object.position.add(this.velocity),this.childObjects.forEach((function(e){e.position.copy(t.object.position),e.rotation.copy(t.object.rotation)}))}}]),e}(),c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;Object(n["a"])(this,e),Object(o["a"])(this,"damp",void 0),Object(o["a"])(this,"attract",void 0),Object(o["a"])(this,"velocity",void 0),Object(o["a"])(this,"currentVec3",void 0),this.damp=r,this.attract=i,this.velocity=new a["Fb"],this.currentVec3=t}return Object(i["a"])(e,[{key:"update",value:function(e){this.velocity.multiplyScalar(this.damp);var t=(new a["Fb"]).copy(e).sub(this.currentVec3);this.velocity.add(t.multiplyScalar(this.attract)),this.currentVec3.add(this.velocity)}}]),e}();function l(){var e=0,t=0;while(0===e)e=Math.random();while(0===t)t=Math.random();return Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t)}},"2caf":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));r("4ae1"),r("d3b7"),r("f8c9"),r("3410");function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r("d9e2"),r("a4d3"),r("e01a"),r("d28b"),r("3ca3"),r("ddb0");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=r("257e");function s(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(a["a"])(e)}function c(e){var t=i();return function(){var r,i=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return s(this,r)}}},"32d9":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("5a89"),i={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\t\t}"},o=r("360d"),a=r("1b53");class s extends a["b"]{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){const n=e.getContext(),i=e.state;let o,a;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0),this.inverse?(o=0,a=1):(o=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),i.buffers.stencil.setFunc(n.ALWAYS,o,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(n.EQUAL,1,4294967295),i.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),i.buffers.stencil.setLocked(!0)}}class c extends a["b"]{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class l{constructor(e,t){if(this.renderer=e,void 0===t){const r={minFilter:n["K"],magFilter:n["K"],format:n["kb"]},i=e.getSize(new n["Eb"]);this._pixelRatio=e.getPixelRatio(),this._width=i.width,this._height=i.height,t=new n["Jb"](this._width*this._pixelRatio,this._height*this._pixelRatio,r),t.texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===i&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===o["a"]&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new o["a"](i),this.clock=new n["l"]}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let r=!1;for(let n=0,i=this.passes.length;n<i;n++){const t=this.passes[n];if(!1!==t.enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),t.needsSwap){if(r){const t=this.renderer.getContext(),r=this.renderer.state.buffers.stencil;r.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),r.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==s&&(t instanceof s?r=!0:t instanceof c&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new n["Eb"]);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const r=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(r,n),this.renderTarget2.setSize(r,n);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(r,n)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new n["ab"](-1,1,1,-1,0,1);const h=new n["h"];h.setAttribute("position",new n["A"]([-1,3,0,-1,-1,0,3,-1,0],3)),h.setAttribute("uv",new n["A"]([0,2,0,0,2,0],2))},3410:function(e,t,r){var n=r("23e7"),i=r("d039"),o=r("7b0b"),a=r("e163"),s=r("e177"),c=i((function(){a(1)}));n({target:"Object",stat:!0,forced:c,sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},"360d":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("5a89"),i=r("1b53");class o extends i["b"]{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof n["qb"]?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=n["Cb"].clone(e.uniforms),this.material=new n["qb"]({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new i["a"](this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}},3835:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function i(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0)if(o.push(n.value),t&&o.length===t)break}catch(c){s=!0,i=c}finally{try{a||null==r["return"]||r["return"]()}finally{if(s)throw i}}return o}}r("fb6a"),r("b0c0"),r("a630"),r("ac1f"),r("00b4");function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}r("d9e2");function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return n(e)||i(e,t)||a(e,t)||s()}},"4ae1":function(e,t,r){var n=r("23e7"),i=r("d066"),o=r("2ba4"),a=r("0538"),s=r("5087"),c=r("825a"),l=r("861d"),h=r("7c73"),f=r("d039"),u=i("Reflect","construct"),d=Object.prototype,v=[].push,p=f((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),m=!f((function(){u((function(){}))})),b=p||m;n({target:"Reflect",stat:!0,forced:b,sham:b},{construct:function(e,t){s(e),c(t);var r=arguments.length<3?e:s(arguments[2]);if(m&&!p)return u(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return o(v,n,t),new(o(a,e,n))}var i=r.prototype,f=h(l(i)?i:d),b=o(e,f,t);return l(b)?b:f}})},"4c53":function(e,t,r){"use strict";var n=r("23e7"),i=r("857a"),o=r("af03");n({target:"String",proto:!0,forced:o("sub")},{sub:function(){return i(this,"sub","","")}})},"4df4":function(e,t,r){"use strict";var n=r("da84"),i=r("0366"),o=r("c65b"),a=r("7b0b"),s=r("9bdd"),c=r("e95a"),l=r("68ee"),h=r("07fa"),f=r("8418"),u=r("9a1f"),d=r("35a1"),v=n.Array;e.exports=function(e){var t=a(e),r=l(this),n=arguments.length,p=n>1?arguments[1]:void 0,m=void 0!==p;m&&(p=i(p,n>2?arguments[2]:void 0));var b,g,y,x,w,C,O=d(t),j=0;if(!O||this==v&&c(O))for(b=h(t),g=r?new this(b):v(b);b>j;j++)C=m?p(t[j],j):t[j],f(g,j,C);else for(x=u(t,O),w=x.next,g=r?new this:[];!(y=o(w,x)).done;j++)C=m?s(x,p,[y.value,j],!0):y.value,f(g,j,C);return g.length=j,g}},"4e0a":function(e,t,r){"use strict";function n(e){try{var t=r("5d16")("./"+e+"/V.glsl"),n=r("8e1c")("./"+e+"/F.glsl");return[t,n]}catch(i){return console.error("failed to fetch shader",i),["",""]}}r.d(t,"a",(function(){return n}))},"4fad":function(e,t,r){var n=r("d039"),i=r("861d"),o=r("c6b6"),a=r("d86b"),s=Object.isExtensible,c=n((function(){s(1)}));e.exports=c||a?function(e){return!!i(e)&&((!a||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},"5d16":function(e,t,r){var n={"./CardSkyboxShader/V.glsl":"8437","./CarouselBasicShader/V.glsl":"f4ce","./FresnelShader/V.glsl":"8c9f","./GlassFrontShader/V.glsl":"c182","./ParticleShader/V.glsl":"b837"};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="5d16"},"6d61":function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("e330"),a=r("94ca"),s=r("6eeb"),c=r("f183"),l=r("2266"),h=r("19aa"),f=r("1626"),u=r("861d"),d=r("d039"),v=r("1c7e"),p=r("d44e"),m=r("7156");e.exports=function(e,t,r){var b=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),y=b?"set":"add",x=i[e],w=x&&x.prototype,C=x,O={},j=function(e){var t=o(w[e]);s(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!u(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!u(e))&&t(this,0===e?0:e)}:function(e,r){return t(this,0===e?0:e,r),this})},_=a(e,!f(x)||!(g||w.forEach&&!d((function(){(new x).entries().next()}))));if(_)C=r.getConstructor(t,e,b,y),c.enable();else if(a(e,!0)){var R=new C,S=R[y](g?{}:-0,1)!=R,P=d((function(){R.has(1)})),E=v((function(e){new x(e)})),M=!g&&d((function(){var e=new x,t=5;while(t--)e[y](t,t);return!e.has(-0)}));E||(C=t((function(e,t){h(e,w);var r=m(new x,e,C);return void 0!=t&&l(t,r[y],{that:r,AS_ENTRIES:b}),r})),C.prototype=w,w.constructor=C),(P||M)&&(j("delete"),j("has"),b&&j("get")),(M||S)&&j(y),g&&w.clear&&delete w.clear}return O[e]=C,n({global:!0,forced:C!=x},O),p(C,e),g||r.setStrong(C,e,b),C}},"71cc":function(e,t){e.exports="uniform vec2 resolution;\r\nuniform sampler2D tBackground;\r\nuniform sampler2D tBackDepth;\r\nuniform sampler2D tDisplayImage;\r\n\r\nvarying vec2 vUv;\r\nvarying vec3 vNormal;\r\nvarying vec3 vCameraRay;\r\nvarying vec4 vWorldPosition;\r\nvarying mat4 vProjectionMatrix;\r\n\r\nfloat near = 0.1;\r\nfloat far  = 20000.0; \r\n\r\nfloat LinearizeDepth(float depth) \r\n{\r\n    float z = depth * 2.0 - 1.0; // back to NDC \r\n    return (2.0 * near * far) / (far + near - z * (far - near));\t\r\n}\r\n\r\nfloat refractionFactor = 1.49; // glass\r\n\r\nvoid main() {\r\n\r\n    vec4 image = texture2D( tDisplayImage, vec2( gl_FragCoord.x / resolution.x, gl_FragCoord.y / resolution.y ) );\r\n    float backDepth = float(texture2D( tBackDepth, vec2( gl_FragCoord.x / resolution.x, gl_FragCoord.y / resolution.y ) ).x);\r\n    float frontDepth = gl_FragCoord.z;\r\n\r\n    float backDepthlinear = LinearizeDepth(backDepth);\r\n    float frontDepthlinear = LinearizeDepth(frontDepth);\r\n    \r\n    float backToFrontDepth = backDepthlinear - frontDepthlinear;\r\n    backToFrontDepth *= 0.005;\r\n    \r\n    vec3 vRefract = refract( vCameraRay, vNormal, 1.0 / refractionFactor );\r\n    vec4 vOriginalPos = vWorldPosition + vec4(vCameraRay, 0.0);\r\n    vec4 vRefractedPos = vWorldPosition + vec4(vRefract, 0.0);\r\n    // vRefractedPos = vOriginalPos; //vWorldPosition + vec4(vRefract, 0.0);\r\n    vec4 vOriginalProjectedPos = vProjectionMatrix * vOriginalPos;\r\n    vec4 vRefractedProjectedPos = vProjectionMatrix * vRefractedPos;\r\n    vec4 offset = normalize(vRefractedProjectedPos - vOriginalProjectedPos);\r\n\r\n    // snell's law\r\n    float cosTheta1 = dot(vCameraRay, vNormal);\r\n    float sinTheta1 = 1.0 - cosTheta1 * cosTheta1;\r\n    float sinTheta2 = sinTheta1 / refractionFactor;\r\n    float theta2 = asin(sinTheta2);\r\n    offset *= theta2;\r\n\r\n    float samplePointX = gl_FragCoord.x / resolution.x + backToFrontDepth * offset.x;\r\n    float samplePointY = gl_FragCoord.y / resolution.y + backToFrontDepth * offset.y;\r\n    \r\n    vec3 backColor = texture2D( tBackground, vec2( samplePointX, samplePointY ) ).xyz;\r\n    // vec4 vNewSample = projectionMatrix * (vec4(vRefract, 0.0) + worldPosition);\r\n    // vRefractOffset = vNewSample.xy / vNewSample.w;\r\n    // // vNormal = normal;\r\n    // vec3 vRefractOffsetT = vRefract + 0.5;\r\n    // gl_FragColor = vec4(backColor * 0.5 + vNormal * 0.2 + depthColor * 0.1, 1.0);\r\n    gl_FragColor = vec4(backColor, 1.0);\r\n    // gl_FragColor = vec4(vec3(backToFrontDepth) * 100.0, 1.0);\r\n    // gl_FragColor = vec4(offset.xy / offset.w + 0.5, 0.0, 1.0);\r\n    // gl_FragColor = vec4(vec3(theta2), 1.0);\r\n\r\n    // gl_FragColor = vec4(vec3(gl_FragCoord.z / gl_FragCoord.w - fragColor2.x * 10.0) / 2000.0, 1.0);\r\n}"},"7bcb":function(e,t){e.exports="uniform samplerCube tCube;\r\nvarying vec3 vReflect;\r\nvarying vec3 vRefract[3];\r\nvarying float vReflectionFactor;\r\nvarying vec2 vUv;\r\n\r\nuniform sampler2D tNormal;\r\n\r\nvoid main() {\r\n\r\n    vec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\r\n    vec4 refractedColor = vec4( 1.0 );\r\n\r\n    vec3 tnm = vec3(texture2D(tNormal, vUv));\r\n    tnm = tnm * 2.0 - 1.0;\r\n    tnm = 0.0 * tnm;\r\n    // tnm *= 0.01;\r\n    refractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) - tnm ).r;\r\n    refractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) - tnm ).g;\r\n    refractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) - tnm ).b;\r\n\r\n    gl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );\r\n}"},8437:function(e,t){e.exports="varying vec3 vPos;\r\n\r\nvoid main() {\r\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n    gl_Position = projectionMatrix * mvPosition;\r\n    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\r\n    vPos = worldPosition.xyz - cameraPosition;\r\n}\r\n"},"857a":function(e,t,r){var n=r("e330"),i=r("1d80"),o=r("577e"),a=/"/g,s=n("".replace);e.exports=function(e,t,r,n){var c=o(i(e)),l="<"+t;return""!==r&&(l+=" "+r+'="'+s(o(n),a,"&quot;")+'"'),l+">"+c+"</"+t+">"}},"8c9f":function(e,t){e.exports="uniform float mRefractionRatio;\r\nuniform float mFresnelBias;\r\nuniform float mFresnelScale;\r\nuniform float mFresnelPower;\r\n\r\nvarying vec3 vReflect;\r\nvarying vec3 vRefract[3];\r\nvarying float vReflectionFactor;\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n\r\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\r\n    vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\r\n\r\n    vec3 worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\r\n\r\n    vec3 I = worldPosition.xyz - cameraPosition;\r\n\r\n    vReflect = reflect( I, worldNormal );\r\n    vRefract[0] = refract( normalize( I ), worldNormal, mRefractionRatio );\r\n    vRefract[1] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.99 );\r\n    vRefract[2] = refract( normalize( I ), worldNormal, mRefractionRatio * 0.98 );\r\n    vReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), worldNormal ), mFresnelPower );\r\n\r\n    gl_Position = projectionMatrix * mvPosition;\r\n    vUv = uv;\r\n\r\n}\r\n"},"8e1c":function(e,t,r){var n={"./CardSkyboxShader/F.glsl":"91bc","./CarouselBasicShader/F.glsl":"1333","./FresnelShader/F.glsl":"7bcb","./GlassFrontShader/F.glsl":"71cc","./ParticleShader/F.glsl":"d32d"};function i(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id="8e1c"},"91bc":function(e,t){e.exports="uniform samplerCube tCube;\r\nvarying vec3 vPos;\r\n\r\nvoid main() {\r\n    vec4 reflectedColor = textureCube( tCube, vec3(-vPos.x, vPos.yz) );\r\n    gl_FragColor = reflectedColor;\r\n}"},9263:function(e,t,r){"use strict";var n=r("c65b"),i=r("e330"),o=r("577e"),a=r("ad6d"),s=r("9f7f"),c=r("5692"),l=r("7c73"),h=r("69f3").get,f=r("fce3"),u=r("107c"),d=c("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,p=v,m=i("".charAt),b=i("".indexOf),g=i("".replace),y=i("".slice),x=function(){var e=/a/,t=/b*/g;return n(v,e,"a"),n(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),w=s.BROKEN_CARET,C=void 0!==/()??/.exec("")[1],O=x||C||w||f||u;O&&(p=function(e){var t,r,i,s,c,f,u,O=this,j=h(O),_=o(e),R=j.raw;if(R)return R.lastIndex=O.lastIndex,t=n(p,R,_),O.lastIndex=R.lastIndex,t;var S=j.groups,P=w&&O.sticky,E=n(a,O),M=O.source,F=0,T=_;if(P&&(E=g(E,"y",""),-1===b(E,"g")&&(E+="g"),T=y(_,O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==m(_,O.lastIndex-1))&&(M="(?: "+M+")",T=" "+T,F++),r=new RegExp("^(?:"+M+")",E)),C&&(r=new RegExp("^"+M+"$(?!\\s)",E)),x&&(i=O.lastIndex),s=n(v,P?r:O,T),P?s?(s.input=y(s.input,F),s[0]=y(s[0],F),s.index=O.lastIndex,O.lastIndex+=s[0].length):O.lastIndex=0:x&&s&&(O.lastIndex=O.global?s.index+s[0].length:i),C&&s&&s.length>1&&n(d,s[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(s[c]=void 0)})),s&&S)for(s.groups=f=l(null),c=0;c<S.length;c++)u=S[c],f[u[0]]=s[u[1]];return s}),e.exports=p},"93e9":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("5a89"),i=r("1b53");class o extends i["b"]{constructor(e,t,r,i,o){super(),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new n["m"]}render(e,t,r){const n=e.autoClear;let i,o;e.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),e.autoClear=n}}},"9bdd":function(e,t,r){var n=r("825a"),i=r("2a62");e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(a){i(e,"throw",a)}}},"9f7f":function(e,t,r){var n=r("d039"),i=r("da84"),o=i.RegExp,a=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=a||n((function(){return!o("a","y").sticky})),c=a||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:s,UNSUPPORTED_Y:a}},a630:function(e,t,r){var n=r("23e7"),i=r("4df4"),o=r("1c7e"),a=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:a},{from:i})},ac1f:function(e,t,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},acac:function(e,t,r){"use strict";var n=r("e330"),i=r("e2cc"),o=r("f183").getWeakData,a=r("825a"),s=r("861d"),c=r("19aa"),l=r("2266"),h=r("b727"),f=r("1a2d"),u=r("69f3"),d=u.set,v=u.getterFor,p=h.find,m=h.findIndex,b=n([].splice),g=0,y=function(e){return e.frozen||(e.frozen=new x)},x=function(){this.entries=[]},w=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};x.prototype={get:function(e){var t=w(this,e);if(t)return t[1]},has:function(e){return!!w(this,e)},set:function(e,t){var r=w(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=m(this.entries,(function(t){return t[0]===e}));return~t&&b(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,r,n){var h=e((function(e,i){c(e,u),d(e,{type:t,id:g++,frozen:void 0}),void 0!=i&&l(i,e[n],{that:e,AS_ENTRIES:r})})),u=h.prototype,p=v(t),m=function(e,t,r){var n=p(e),i=o(a(t),!0);return!0===i?y(n).set(t,r):i[n.id]=r,e};return i(u,{delete:function(e){var t=p(this);if(!s(e))return!1;var r=o(e);return!0===r?y(t)["delete"](e):r&&f(r,t.id)&&delete r[t.id]},has:function(e){var t=p(this);if(!s(e))return!1;var r=o(e);return!0===r?y(t).has(e):r&&f(r,t.id)}}),i(u,r?{get:function(e){var t=p(this);if(s(e)){var r=o(e);return!0===r?y(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return m(this,e,t)}}:{add:function(e){return m(this,e,!0)}}),h}}},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},af03:function(e,t,r){var n=r("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b0c0:function(e,t,r){var n=r("83ab"),i=r("5e77").EXISTS,o=r("e330"),a=r("9bf2").f,s=Function.prototype,c=o(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,h=o(l.exec),f="name";n&&!i&&a(s,f,{configurable:!0,get:function(){try{return h(l,c(this))[1]}catch(e){return""}}})},b837:function(e,t){e.exports="precision highp float;\r\n\r\nuniform mat4 modelViewMatrix;\r\nuniform mat4 projectionMatrix;\r\n// uniform vec2 uv;\r\n\r\nattribute vec3 position;\r\nattribute vec3 vPos;\r\n\r\nattribute vec3  customColor;\r\nattribute float customOpacity;\r\nattribute float customSize;\r\nattribute float customVisible;  // float used as boolean (0 = false, 1 = true)\r\n\r\n// varying vec2 vUv;\r\nvarying vec4  vColor;\r\nvarying float vAngle;\r\n\r\nvoid main()\r\n{\r\n\tif ( customVisible > 0.5 ) \t\t\t\t// true\r\n\t\tvColor = vec4( customColor, customOpacity ); //     set color associated to vertex; use later in fragment shader.\r\n\telse\t\t\t\t\t\t\t// false\r\n\t\tvColor = vec4(0.0, 0.0, 0.0, 0.0); \t\t//     make particle invisible.\r\n    mat3 scaleMatrix = mat3(customSize, 0.0, 0.0, 0.0, customSize, 0.0, 0.0, 0.0, customSize);\r\n\tvec4 mvPosition = modelViewMatrix * vec4( vPos + scaleMatrix * position, 1.0 );\r\n\tgl_PointSize = customSize * ( 300.0 / length( mvPosition.xyz ) );     // scale particles as objects in 3D space\r\n\tgl_Position = projectionMatrix * mvPosition;\r\n    // vUv = uv;\r\n    // vUv = vec2(1.0, 0.4);\r\n    // gl_Position = projectionMatrix * modelViewMatrix * vec4( vPos + position, 1.0 );\r\n}"},bb2f:function(e,t,r){var n=r("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c182:function(e,t){e.exports="varying vec2 vUv;\r\nvarying vec3 vNormal;\r\nvarying vec3 vCameraRay;\r\nvarying vec4 vWorldPosition;\r\nvarying mat4 vProjectionMatrix;\r\n// varying vec3 vRefract;\r\n// varying vec2 vRefractOffset;\r\n\r\n\r\nvoid main() {\r\n    vWorldPosition = modelMatrix * vec4( position, 1.0 );\r\n    vec4 mvPosition = viewMatrix * vWorldPosition;\r\n    gl_Position = projectionMatrix * mvPosition;\r\n    vUv = uv;\r\n\r\n    vNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\r\n    vCameraRay = normalize(vWorldPosition.xyz - cameraPosition);\r\n\r\n    vProjectionMatrix = projectionMatrix * modelViewMatrix;\r\n}\r\n"},d32d:function(e,t){e.exports="precision highp float;\r\n\r\nuniform sampler2D texture;\r\n\r\n// varying vec2 vUv;\r\nvarying vec4 vColor;\r\nvarying float vAngle;\r\n\r\nvoid main()\r\n{\r\n\tgl_FragColor = vColor;\r\n\t\r\n\t// float c = cos(vAngle);\r\n\t// float s = sin(vAngle);\r\n\t// vec2 rotatedUV = vec2(c * (gl_PointCoord.x - 0.5) + s * (gl_PointCoord.y - 0.5) + 0.5,\r\n\t//                       c * (gl_PointCoord.y - 0.5) - s * (gl_PointCoord.x - 0.5) + 0.5);  // rotate UV coordinates to rotate texture\r\n    // vec4 rotatedTexture = texture2D( texture,  rotatedUV );\r\n    // vec4 rotatedTexture = texture2D( texture,  vUv );\r\n\t// gl_FragColor = rotatedTexture;    // sets an otherwise white particle texture to desired color\r\n    // gl_FragColor = vec4(vUv.x, vUv.y, 0.0, 1.0);\r\n}"},d86b:function(e,t,r){var n=r("d039");e.exports=n((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},f183:function(e,t,r){var n=r("23e7"),i=r("e330"),o=r("d012"),a=r("861d"),s=r("1a2d"),c=r("9bf2").f,l=r("241c"),h=r("057f"),f=r("4fad"),u=r("90e3"),d=r("bb2f"),v=!1,p=u("meta"),m=0,b=function(e){c(e,p,{value:{objectID:"O"+m++,weakData:{}}})},g=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,p)){if(!f(e))return"F";if(!t)return"E";b(e)}return e[p].objectID},y=function(e,t){if(!s(e,p)){if(!f(e))return!0;if(!t)return!1;b(e)}return e[p].weakData},x=function(e){return d&&v&&f(e)&&!s(e,p)&&b(e),e},w=function(){C.enable=function(){},v=!0;var e=l.f,t=i([].splice),r={};r[p]=1,e(r).length&&(l.f=function(r){for(var n=e(r),i=0,o=n.length;i<o;i++)if(n[i]===p){t(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h.f}))},C=e.exports={enable:w,fastKey:g,getWeakData:y,onFreeze:x};o[p]=!0},f4ce:function(e,t){e.exports="varying vec2 vUv;\r\nvoid main() {\r\n    vUv = vec2(1.0, 0.5);\r\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\r\n}"},f8c9:function(e,t,r){var n=r("23e7"),i=r("da84"),o=r("d44e");n({global:!0},{Reflect:{}}),o(i.Reflect,"Reflect",!0)},fb12:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var n=r("d4ec"),i=r("bee2"),o=r("257e"),a=r("262e"),s=r("2caf"),c=r("ade3"),l=(r("d3b7"),r("3ca3"),r("10d1"),r("ddb0"),r("ac1f"),r("00b4"),r("5a89")),h=new l["Fb"],f=new l["ib"],u=new l["Fb"],d=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return Object(n["a"])(this,r),e=t.call(this),Object(c["a"])(Object(o["a"])(e),"element",void 0),Object(c["a"])(Object(o["a"])(e),"followObject",void 0),Object(c["a"])(Object(o["a"])(e),"followObjectOffset",void 0),e.element=i,e.element.style.position="absolute",e.element.style.pointerEvents="all",null!==i.parentNode?i.parentNode.removeChild(i):document.removeChild(i),e.followObject=null,e.followObjectOffset=new l["Fb"],e}return Object(i["a"])(r,[{key:"setFollowObject",value:function(e,t){this.followObject=e,this.followObjectOffset=t}}]),r}(l["Z"]),v=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(e){var i;return Object(n["a"])(this,r),i=t.call(this,e),Object(c["a"])(Object(o["a"])(i),"rotation2D",void 0),i.rotation2D=0,i}return Object(i["a"])(r)}(d),p=new l["S"],m=new l["S"],b=function(){function e(t){Object(n["a"])(this,e),Object(c["a"])(this,"domElement",void 0),Object(c["a"])(this,"cameraElement",void 0),Object(c["a"])(this,"_width",void 0),Object(c["a"])(this,"_height",void 0),Object(c["a"])(this,"_widthHalf",void 0),Object(c["a"])(this,"_heightHalf",void 0),Object(c["a"])(this,"cache",void 0),this._width=0,this._height=0,this._widthHalf=0,this._heightHalf=0,this.cache={camera:{fov:0,style:""},objects:new WeakMap},this.domElement=void 0!==t?t:document.createElement("div"),this.domElement.style.position="absolute",this.domElement.style.overflow="visible",this.domElement.style.pointerEvents="none",this.cameraElement=document.createElement("div"),this.cameraElement.style.overflow="visible",this.cameraElement.style.transformStyle="preserve-3d",this.cameraElement.style.pointerEvents="none",t.appendChild(this.cameraElement)}return Object(i["a"])(e,[{key:"getSize",value:function(){return{width:this._width,height:this._height}}},{key:"render",value:function(e,t){var r=t.projectionMatrix.elements[5]*this._heightHalf;this.cache.camera.fov!==r&&(this.domElement.style.perspective=r+"px",this.cache.camera.fov=r),!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld();var n="translateZ("+r+"px)"+this.getCameraCSSMatrix(t.matrixWorldInverse),i=n+"translate("+this._widthHalf+"px,"+this._heightHalf+"px)";this.cache.camera.style!==i&&(this.cameraElement.style.transform=i,this.cache.camera.style=i),this.renderObject(e,e,t,n)}},{key:"setSize",value:function(e,t){this._width=e,this._height=t,this._widthHalf=this._width/2,this._heightHalf=this._height/2,this.domElement.style.width=this._width+"px",this.domElement.style.height=this._height+"px",this.cameraElement.style.width=this._width+"px",this.cameraElement.style.height=this._height+"px"}},{key:"epsilon",value:function(e){return Math.abs(e)<1e-10?0:e}},{key:"getCameraCSSMatrix",value:function(e){var t=e.elements;return"matrix3d("+this.epsilon(t[0])+","+this.epsilon(-t[1])+","+this.epsilon(t[2])+","+this.epsilon(t[3])+","+this.epsilon(t[4])+","+this.epsilon(-t[5])+","+this.epsilon(t[6])+","+this.epsilon(t[7])+","+this.epsilon(t[8])+","+this.epsilon(-t[9])+","+this.epsilon(t[10])+","+this.epsilon(t[11])+","+this.epsilon(t[12])+","+this.epsilon(-t[13])+","+this.epsilon(t[14])+","+this.epsilon(t[15])+")"}},{key:"getObjectCSSMatrix",value:function(e){var t=e.elements,r="matrix3d("+this.epsilon(t[0])+","+this.epsilon(t[1])+","+this.epsilon(t[2])+","+this.epsilon(t[3])+","+this.epsilon(-t[4])+","+this.epsilon(-t[5])+","+this.epsilon(-t[6])+","+this.epsilon(-t[7])+","+this.epsilon(t[8])+","+this.epsilon(t[9])+","+this.epsilon(t[10])+","+this.epsilon(t[11])+","+this.epsilon(t[12])+","+this.epsilon(t[13])+","+this.epsilon(t[14])+","+this.epsilon(t[15])+")";return r}},{key:"renderObject",value:function(e,t,r,n){if(e instanceof d){var i=e.visible&&e.layers.test(r.layers);if(e.element.style.display=i?"":"none",i){var o;void 0!=e.followObject&&(e.position.copy(e.followObject.position),e.position.add(e.followObjectOffset)),e instanceof v?(p.copy(r.matrixWorldInverse),p.transpose(),0!==e.rotation2D&&p.multiply(m.makeRotationZ(e.rotation2D)),e.matrixWorld.decompose(h,f,u),p.setPosition(h),p.scale(u),p.elements[3]=0,p.elements[7]=0,p.elements[11]=0,p.elements[15]=1,o=this.getObjectCSSMatrix(p)):o=this.getObjectCSSMatrix(e.matrixWorld);var a=e.element,s=this.cache.objects.get(e);if(void 0===s||s.style!==o){a.style.transform=o;var c={style:o};this.cache.objects.set(e,c)}a.parentNode!==this.cameraElement&&this.cameraElement.appendChild(a)}}for(var l=0,b=e.children.length;l<b;l++)e.children[l]instanceof d&&this.renderObject(e.children[l],t,r,n)}}]),e}()},fb6a:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),o=r("e8b5"),a=r("68ee"),s=r("861d"),c=r("23cb"),l=r("07fa"),h=r("fc6a"),f=r("8418"),u=r("b622"),d=r("1dde"),v=r("f36a"),p=d("slice"),m=u("species"),b=i.Array,g=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,i,u=h(this),d=l(u),p=c(e,d),y=c(void 0===t?d:t,d);if(o(u)&&(r=u.constructor,a(r)&&(r===b||o(r.prototype))?r=void 0:s(r)&&(r=r[m],null===r&&(r=void 0)),r===b||void 0===r))return v(u,p,y);for(n=new(void 0===r?b:r)(g(y-p,0)),i=0;p<y;p++,i++)p in u&&f(n,i,u[p]);return n.length=i,n}})},fce3:function(e,t,r){var n=r("d039"),i=r("da84"),o=i.RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-50f83664.218c1aa9.js.map