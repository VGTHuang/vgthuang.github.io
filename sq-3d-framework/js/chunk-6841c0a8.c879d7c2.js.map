{"version":3,"sources":["webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./src/scripts/ThreeRealisticRefraction sync ^\\.\\/.*\\/F\\.glsl$","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/array-slice-simple.js","webpack:///./src/scripts/ThreeRealisticRefraction sync ^\\.\\/.*\\/V\\.glsl$","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/three/examples/jsm/geometries/RoundedBoxGeometry.js","webpack:///./src/scripts/ThreeRealisticRefraction/ShaderLoader.ts","webpack:///./src/scripts/ThreeRealisticRefraction/ThreeRealisticRefraction.ts","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/ThreeGlassRefractionTest.vue?b7fb","webpack:///./src/views/ThreeGlassRefractionTest.vue","webpack:///./src/views/ThreeGlassRefractionTest.vue?9e0e","webpack:///./src/views/ThreeGlassRefractionTest.vue?615f","webpack:///./src/views/ThreeGlassRefractionTest.vue?a1b8","webpack:///./src/scripts/ThreeRealisticRefraction/GlassFrontShader/V.glsl","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./src/scripts/ThreeRealisticRefraction/GlassFrontShader/F.glsl"],"names":["classof","toIndexedObject","$getOwnPropertyNames","f","arraySlice","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","resolve","global","toIntegerOrInfinity","toString","requireObjectCoercible","RangeError","count","str","this","result","n","Infinity","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","COLLECTION_NAME","prototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","arguments","length","undefined","$","repeat","target","proto","toAbsoluteIndex","lengthOfArrayLike","createProperty","Array","max","Math","O","start","end","k","fin","path","hasOwn","wrappedWellKnownSymbolModule","defineProperty","NAME","Symbol","value","_tempNormal","getUv","faceDirVector","normal","uvAxis","projectionAxis","radius","sideLength","totArcLength","PI","centerLength","halfArc","copy","normalize","arcUvRatio","arcAngleRatio","angleTo","sign","lenUv","RoundedBoxGeometry","width","height","depth","segments","min","super","geometry2","toNonIndexed","index","attributes","position","uv","box","divideScalar","subScalar","positions","array","normals","uvs","faceTris","halfSegmentSize","i","j","fromArray","x","y","z","side","floor","set","loadShader","shaderName","vertexShader","fragShader","err","console","controls","stats","rm","scene","mesh","suResolution","suBackground","suImage","suDepth","backColor","absorbColor","suRefractionFactor","suOpacity","material","originalMaterial","push","clone","refractionMaterialUniforms","environment","glassFrontVS","glassFrontFS","refractionMaterial","fragmentShader","uniforms","backgroundScene","container","renderer","camera","backDepthTextureSize","frontScene","backdepthTexture","backRenderTarget","offsetWidth","devicePixelRatio","offsetHeight","depthBuffer","depthTexture","type","background","texture","refractionObjectList","textureCube","shader","lib","parameters","setDefaultBacksideMaterial","image","refractionFactor","opacityFactor","_backColor","color","transparent","opacity","metalness","reflectivity","roughness","add","refObj","setRenderTarget","render","initScene","_container","innerWidth","innerHeight","lookAt","antialias","alpha","setClearColor","setPixelRatio","setSize","appendChild","domElement","OrbitControls","style","top","left","zIndex","r","urls","load","mapping","light","floorTexture","wrapS","wrapT","floorMaterial","floorGeometry","rotation","glassMesh1","glassMesh2","glassMesh3","addRefractionMesh","ballMesh","addEventListener","onWindowResize","animate","aspect","updateProjectionMatrix","requestAnimationFrame","update","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","key","propertyKey","getBuiltIn","apply","call","uncurryThis","IS_PURE","DESCRIPTORS","NATIVE_SYMBOL","fails","isArray","isCallable","isObject","isPrototypeOf","isSymbol","anObject","toObject","$toString","nativeObjectCreate","objectKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","definePropertiesModule","propertyIsEnumerableModule","redefine","shared","sharedKey","hiddenKeys","uid","wellKnownSymbol","defineWellKnownSymbol","setToStringTag","InternalStateModule","HIDDEN","SYMBOL","PROTOTYPE","TO_PRIMITIVE","setInternalState","getInternalState","getterFor","ObjectPrototype","$Symbol","SymbolPrototype","TypeError","QObject","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","USE_SETTER","findChild","setSymbolDescriptor","get","a","P","Attributes","ObjectPrototypeDescriptor","wrap","tag","description","symbol","$defineProperty","enumerable","$defineProperties","Properties","properties","concat","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","descriptor","names","IS_OBJECT_PROTOTYPE","setter","configurable","name","unsafe","forced","sham","stat","string","keyFor","sym","useSetter","useSimple","create","defineProperties","getOwnPropertyDescriptor","getOwnPropertySymbols","FORCED_JSON_STRINGIFY","stringify","replacer","space","args","$replacer","valueOf","hint","METHOD_NAME","argument","method","_vm","_h","$createElement","_c","_self","ref","attrs","staticRenderFns","extend","mounted","$refs","HTMLElement","component","copyConstructorProperties","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","constructor","String","symbolToString","symbolValueOf","regexp","replace","stringSlice","slice","desc"],"mappings":"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","file":"js/chunk-6841c0a8.c879d7c2.js","sourcesContent":["/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar classof = require('../internals/classof-raw');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar arraySlice = require('../internals/array-slice-simple');\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return arraySlice(windowNames);\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && classof(it) == 'Window'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","var map = {\n\t\"./GlassFrontShader/F.glsl\": \"f430\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"08fd\";","'use strict';\nvar global = require('../internals/global');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar RangeError = global.RangeError;\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toIntegerOrInfinity(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar createProperty = require('../internals/create-property');\n\nvar Array = global.Array;\nvar max = Math.max;\n\nmodule.exports = function (O, start, end) {\n  var length = lengthOfArrayLike(O);\n  var k = toAbsoluteIndex(start, length);\n  var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n  var result = Array(max(fin - k, 0));\n  for (var n = 0; k < fin; k++, n++) createProperty(result, n, O[k]);\n  result.length = n;\n  return result;\n};\n","var map = {\n\t\"./GlassFrontShader/V.glsl\": \"c444\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"5303\";","var path = require('../internals/path');\nvar hasOwn = require('../internals/has-own-property');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!hasOwn(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","import {\n\tBoxGeometry,\n\tVector3\n} from 'three';\n\nconst _tempNormal = new Vector3();\n\nfunction getUv( faceDirVector, normal, uvAxis, projectionAxis, radius, sideLength ) {\n\n\tconst totArcLength = 2 * Math.PI * radius / 4;\n\n\t// length of the planes between the arcs on each axis\n\tconst centerLength = Math.max( sideLength - 2 * radius, 0 );\n\tconst halfArc = Math.PI / 4;\n\n\t// Get the vector projected onto the Y plane\n\t_tempNormal.copy( normal );\n\t_tempNormal[ projectionAxis ] = 0;\n\t_tempNormal.normalize();\n\n\t// total amount of UV space alloted to a single arc\n\tconst arcUvRatio = 0.5 * totArcLength / ( totArcLength + centerLength );\n\n\t// the distance along one arc the point is at\n\tconst arcAngleRatio = 1.0 - ( _tempNormal.angleTo( faceDirVector ) / halfArc );\n\n\tif ( Math.sign( _tempNormal[ uvAxis ] ) === 1 ) {\n\n\t\treturn arcAngleRatio * arcUvRatio;\n\n\t} else {\n\n\t\t// total amount of UV space alloted to the plane between the arcs\n\t\tconst lenUv = centerLength / ( totArcLength + centerLength );\n\t\treturn lenUv + arcUvRatio + arcUvRatio * ( 1.0 - arcAngleRatio );\n\n\t}\n\n}\n\nclass RoundedBoxGeometry extends BoxGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, segments = 2, radius = 0.1 ) {\n\n\t\t// ensure segments is odd so we have a plane connecting the rounded corners\n\t\tsegments = segments * 2 + 1;\n\n\t\t// ensure radius isn't bigger than shortest side\n\t\tradius = Math.min( width / 2, height / 2, depth / 2, radius );\n\n\t\tsuper( 1, 1, 1, segments, segments, segments );\n\n\t\t// if we just have one segment we're the same as a regular box\n\t\tif ( segments === 1 ) return;\n\n\t\tconst geometry2 = this.toNonIndexed();\n\n\t\tthis.index = null;\n\t\tthis.attributes.position = geometry2.attributes.position;\n\t\tthis.attributes.normal = geometry2.attributes.normal;\n\t\tthis.attributes.uv = geometry2.attributes.uv;\n\n\t\t//\n\n\t\tconst position = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst box = new Vector3( width, height, depth ).divideScalar( 2 ).subScalar( radius );\n\n\t\tconst positions = this.attributes.position.array;\n\t\tconst normals = this.attributes.normal.array;\n\t\tconst uvs = this.attributes.uv.array;\n\n\t\tconst faceTris = positions.length / 6;\n\t\tconst faceDirVector = new Vector3();\n\t\tconst halfSegmentSize = 0.5 / segments;\n\n\t\tfor ( let i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\n\n\t\t\tposition.fromArray( positions, i );\n\t\t\tnormal.copy( position );\n\t\t\tnormal.x -= Math.sign( normal.x ) * halfSegmentSize;\n\t\t\tnormal.y -= Math.sign( normal.y ) * halfSegmentSize;\n\t\t\tnormal.z -= Math.sign( normal.z ) * halfSegmentSize;\n\t\t\tnormal.normalize();\n\n\t\t\tpositions[ i + 0 ] = box.x * Math.sign( position.x ) + normal.x * radius;\n\t\t\tpositions[ i + 1 ] = box.y * Math.sign( position.y ) + normal.y * radius;\n\t\t\tpositions[ i + 2 ] = box.z * Math.sign( position.z ) + normal.z * radius;\n\n\t\t\tnormals[ i + 0 ] = normal.x;\n\t\t\tnormals[ i + 1 ] = normal.y;\n\t\t\tnormals[ i + 2 ] = normal.z;\n\n\t\t\tconst side = Math.floor( i / faceTris );\n\n\t\t\tswitch ( side ) {\n\n\t\t\t\tcase 0: // right\n\n\t\t\t\t\t// generate UVs along Z then Y\n\t\t\t\t\tfaceDirVector.set( 1, 0, 0 );\n\t\t\t\t\tuvs[ j + 0 ] = getUv( faceDirVector, normal, 'z', 'y', radius, depth );\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'z', radius, height );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1: // left\n\n\t\t\t\t\t// generate UVs along Z then Y\n\t\t\t\t\tfaceDirVector.set( - 1, 0, 0 );\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'z', 'y', radius, depth );\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'z', radius, height );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2: // top\n\n\t\t\t\t\t// generate UVs along X then Z\n\t\t\t\t\tfaceDirVector.set( 0, 1, 0 );\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'x', 'z', radius, width );\n\t\t\t\t\tuvs[ j + 1 ] = getUv( faceDirVector, normal, 'z', 'x', radius, depth );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3: // bottom\n\n\t\t\t\t\t// generate UVs along X then Z\n\t\t\t\t\tfaceDirVector.set( 0, - 1, 0 );\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'x', 'z', radius, width );\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'z', 'x', radius, depth );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 4: // front\n\n\t\t\t\t\t// generate UVs along X then Y\n\t\t\t\t\tfaceDirVector.set( 0, 0, 1 );\n\t\t\t\t\tuvs[ j + 0 ] = 1.0 - getUv( faceDirVector, normal, 'x', 'y', radius, width );\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'x', radius, height );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 5: // back\n\n\t\t\t\t\t// generate UVs along X then Y\n\t\t\t\t\tfaceDirVector.set( 0, 0, - 1 );\n\t\t\t\t\tuvs[ j + 0 ] = getUv( faceDirVector, normal, 'x', 'y', radius, width );\n\t\t\t\t\tuvs[ j + 1 ] = 1.0 - getUv( faceDirVector, normal, 'y', 'x', radius, height );\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nexport { RoundedBoxGeometry };\n","export function loadShader(shaderName: string): Array<string> {\r\n    try {\r\n        var vertexShader = require('./' + shaderName + '/V.glsl')\r\n        var fragShader = require('./' + shaderName + '/F.glsl')\r\n        return [vertexShader, fragShader]\r\n    }\r\n    catch(err) {\r\n        console.error('failed to fetch shader', err)\r\n        return ['', '']\r\n    }\r\n}","import * as THREE from 'three'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\nimport { RoundedBoxGeometry } from 'three/examples/jsm/geometries/RoundedBoxGeometry'\r\nimport { loadShader } from './ShaderLoader'\r\nimport { Stats } from 'three-stats'\r\nimport { ShaderMaterial } from 'three'\r\n\r\nexport class RefractionObject {\r\n    mesh: THREE.Mesh\r\n    originalMaterial: THREE.Material | THREE.Material[]\r\n    refractionMaterial: THREE.ShaderMaterial\r\n    backColor: THREE.Color\r\n    refractionMaterialUniforms: { [uniform: string]: THREE.IUniform }\r\n    // suResolution: THREE.Vector2\r\n    // suBackground: THREE.Texture\r\n    // suDepth: THREE.DepthTexture\r\n    constructor(scene: THREE.Scene, mesh: THREE.Mesh, suResolution: THREE.Vector2, suBackground: THREE.Texture, suImage: THREE.Texture | null, suDepth: THREE.DepthTexture,\r\n        backColor: THREE.Color, absorbColor: number, suRefractionFactor: number, suOpacity: number) {\r\n        this.mesh = mesh\r\n        this.mesh['refractionObject'] = this\r\n        // copy material\r\n        if (this.mesh.material instanceof Array) {\r\n            this.originalMaterial = new Array<THREE.Material>()\r\n            for (let i = 0; i < this.mesh.material.length; i++) {\r\n                this.originalMaterial.push(this.mesh.material[i].clone())\r\n            }\r\n        }\r\n        else {\r\n            this.originalMaterial = this.mesh.material.clone()\r\n        }\r\n        this.backColor = backColor\r\n        this.refractionMaterialUniforms = {\r\n            \"resolution\": { value: suResolution },\r\n            \"tBackground\":    { value: suBackground },\r\n            \"tBackDepth\": { value: suDepth },\r\n            \"tDisplayImage\": { value: suImage },\r\n            \"tSkybox\": { value: scene.environment },\r\n            \"refractionFactor\": { value: suRefractionFactor },\r\n            \"opacity\": { value: suOpacity },\r\n            \"absorbColor\": { value: new THREE.Color(absorbColor) },\r\n            \"objectCenter\": { value: mesh.position },\r\n        }\r\n        var [glassFrontVS, glassFrontFS] = loadShader('GlassFrontShader')\r\n        this.refractionMaterial = new ShaderMaterial({\r\n            vertexShader:   glassFrontVS,\r\n            fragmentShader: glassFrontFS,\r\n            uniforms: this.refractionMaterialUniforms,\r\n            // depthTest: false,\r\n            // stencilWrite: true,\r\n            // stencilRef: 999,\r\n            // stencilZPass: THREE.ReplaceStencilOp,  // write if the depth buffer test passes\r\n            side: THREE.FrontSide\r\n        })\r\n    }\r\n}\r\n\r\nexport class RefractionManager {\r\n    container: HTMLElement\r\n    backgroundScene: THREE.Scene\r\n    renderer: THREE.WebGLRenderer\r\n    camera: THREE.PerspectiveCamera\r\n\r\n    frontScene: THREE.Scene\r\n\r\n    backdepthTexture: THREE.DepthTexture\r\n    backRenderTarget: THREE.WebGLRenderTarget\r\n\r\n    refractionObjectList: Array<RefractionObject>\r\n\r\n    suResolution: THREE.Vector2\r\n\r\n    constructor(\r\n        backgroundScene: THREE.Scene, container: HTMLElement, renderer: THREE.WebGLRenderer, camera: THREE.PerspectiveCamera,\r\n        backDepthTextureSize: number = 512\r\n    ) {\r\n        this.container = container\r\n        this.backgroundScene = backgroundScene\r\n        this.renderer = renderer\r\n        this.camera = camera\r\n\r\n        this.frontScene = new THREE.Scene()\r\n        this.backdepthTexture = new THREE.DepthTexture(\r\n            backDepthTextureSize, backDepthTextureSize,\r\n            THREE.FloatType\r\n        )\r\n        this.backRenderTarget = new THREE.WebGLRenderTarget(\r\n            this.container.offsetWidth * window.devicePixelRatio,\r\n            this.container.offsetHeight * window.devicePixelRatio\r\n        )\r\n        this.backRenderTarget.depthBuffer = true;\r\n        this.backRenderTarget.depthTexture = this.backdepthTexture;\r\n        this.backRenderTarget.depthTexture.type = THREE.UnsignedIntType;\r\n        this.frontScene.background = this.backRenderTarget.texture\r\n        this.frontScene.environment = this.backgroundScene.environment\r\n        this.refractionObjectList = []\r\n        this.suResolution = new THREE.Vector2(\r\n            this.container.offsetWidth * window.devicePixelRatio,\r\n            this.container.offsetHeight * window.devicePixelRatio\r\n        )\r\n\r\n    }\r\n\r\n    genFresnelMaterial(textureCube: THREE.Texture | null) {\r\n        var shader = THREE.ShaderLib.lib[ \"fresnel\" ];\r\n        var uniforms = THREE.UniformsUtils.clone( shader.uniforms );\r\n\r\n        uniforms[ \"tCube\" ].value = textureCube;\r\n\r\n        var parameters = { fragmentShader: shader.fragmentShader, vertexShader: shader.vertexShader, uniforms: uniforms };\r\n        var material = new THREE.ShaderMaterial( parameters );\r\n        return material\r\n    }\r\n\r\n    addRefractionMesh(mesh: THREE.Mesh, setDefaultBacksideMaterial: boolean = true,\r\n        image: THREE.Texture | null,\r\n        backColor: number = 0xffffff,\r\n        absorbColor: number = 0x000000, refractionFactor: number = 1.49, opacityFactor: number = 0.2) {\r\n        const _backColor = new THREE.Color(backColor)\r\n        if (setDefaultBacksideMaterial) {\r\n            mesh.material = new THREE.MeshPhysicalMaterial({\r\n                color: _backColor,\r\n                transparent: true,\r\n                opacity: 0.5,\r\n                metalness: 1,\r\n                reflectivity: 0,\r\n                roughness: 0,\r\n                side: THREE.BackSide\r\n                // colorWrite: false\r\n            })\r\n            // mesh.material = this.genFresnelMaterial(this.backgroundScene.environment)\r\n        }\r\n        this.refractionObjectList.push(new RefractionObject(\r\n            this.backgroundScene,\r\n            mesh,\r\n            this.suResolution,\r\n            this.backRenderTarget.texture,\r\n            image,\r\n            this.backRenderTarget.depthTexture,\r\n            _backColor,\r\n            absorbColor,\r\n            refractionFactor,\r\n            opacityFactor\r\n        ))\r\n        this.backgroundScene.add(mesh)\r\n    }\r\n\r\n    onWindowResize() {\r\n        this.suResolution.x = this.container.offsetWidth * window.devicePixelRatio\r\n        this.suResolution.y = this.container.offsetHeight * window.devicePixelRatio\r\n    }\r\n\r\n    render() {\r\n        this.refractionObjectList.forEach(refObj => {\r\n            refObj.mesh.material = refObj.refractionMaterial\r\n            this.frontScene.add(refObj.mesh)\r\n        })\r\n\r\n        this.renderer.setRenderTarget(null)\r\n        this.renderer.render(this.frontScene, this.camera)\r\n\r\n        this.refractionObjectList.forEach(refObj => {\r\n            refObj.mesh.material = refObj.originalMaterial\r\n            this.backgroundScene.add(refObj.mesh)\r\n        })\r\n    }\r\n}\r\n\r\nvar container: HTMLElement\r\nvar renderer: THREE.WebGLRenderer, camera: THREE.PerspectiveCamera, controls: OrbitControls\r\nvar stats: Stats\r\nvar scene: THREE.Scene\r\nvar rm: RefractionManager\r\n\r\nexport function initScene(_container: HTMLElement) {\r\n    container = _container\r\n    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 5000 )\r\n    camera.position.set(30, 20, 200)\r\n    camera.lookAt(0, 0, 0)\r\n\r\n    scene = new THREE.Scene()\r\n\r\n    renderer = new THREE.WebGLRenderer( {antialias: true, alpha: true} )\r\n    \r\n    renderer.setClearColor( 0xffffff )\r\n    renderer.setPixelRatio( window.devicePixelRatio )\r\n    renderer.setSize(window.innerWidth, window.innerHeight)\r\n    container.appendChild( renderer.domElement )\r\n    controls = new OrbitControls(camera, container)\r\n    container.style.position = 'absolute'\r\n    container.style.top = '0px'\r\n    container.style.left = '0px'\r\n    stats = new Stats()\r\n    stats.domElement.style.zIndex = '100'\r\n    container.appendChild( stats.domElement )\r\n\r\n    // set background\r\n    const r = './cube/'\r\n\r\n    const urls = [\r\n        r + 'px.jpg', r + 'nx.jpg',\r\n        r + 'py.jpg', r + 'ny.jpg',\r\n        r + 'pz.jpg', r + 'nz.jpg'\r\n    ]\r\n\r\n    const textureCube = new THREE.CubeTextureLoader().load( urls )\r\n    textureCube.mapping = THREE.CubeRefractionMapping\r\n\r\n    scene.background = textureCube\r\n    scene.environment = textureCube\r\n    \r\n    // set light\r\n    var light = new THREE.DirectionalLight()\r\n    light.position.x = 300\r\n    light.position.y = 200\r\n    light.position.z = 100\r\n    scene.add(light)\r\n\r\n    // set floor\r\n    var floorTexture = new THREE.TextureLoader().load( './checkerboard.jpg' )\r\n\tfloorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping\r\n\tfloorTexture.repeat.set( 10, 10 )\r\n    var floorMaterial = new THREE.MeshBasicMaterial( { map: floorTexture, side: THREE.DoubleSide } )\r\n\tvar floorGeometry = new THREE.PlaneGeometry(1000, 1000, 1, 1)\r\n\tvar floor = new THREE.Mesh(floorGeometry, floorMaterial)\r\n\tfloor.position.y -= 20.1\r\n\tfloor.rotation.x = Math.PI / 2\r\n    // scene.add(floor)\r\n\r\n    rm = new RefractionManager(scene, container, renderer, camera)\r\n\r\n    var glassMesh1 = new THREE.Mesh(\r\n        new RoundedBoxGeometry(40, 40, 40, 5, 5),\r\n        new THREE.MeshPhongMaterial({})\r\n    )\r\n    glassMesh1.position.x -= 40\r\n    var glassMesh2 = new THREE.Mesh(\r\n        new THREE.SphereGeometry( 20 ),\r\n        new THREE.MeshPhongMaterial({})\r\n    )\r\n    var glassMesh3 = new THREE.Mesh(\r\n        new THREE.CylinderGeometry( 20, 20, 80, 36 ),\r\n        new THREE.MeshPhongMaterial({})\r\n    )\r\n    glassMesh3.position.x += 40\r\n    glassMesh3.position.y += 20\r\n\r\n    rm.addRefractionMesh(glassMesh1, true, null, 0x000000, 0x000000)\r\n    rm.addRefractionMesh(glassMesh2, true, null, 0x006000, 0x006000)\r\n    rm.addRefractionMesh(glassMesh3, true, null, 0x000633, 0x000633)\r\n\r\n    // add a few spheres\r\n    var ballMesh = new THREE.Mesh(\r\n        new THREE.SphereGeometry( 20 ),\r\n        new THREE.MeshPhongMaterial({\r\n            color: 0xff0000\r\n        })\r\n    )\r\n    ballMesh.position.copy(glassMesh1.position)\r\n    ballMesh.position.z -= 50\r\n    scene.add(ballMesh)\r\n\r\n    window.addEventListener( 'resize', onWindowResize )\r\n    animate()\r\n\r\n}\r\n\r\nfunction onWindowResize() {\r\n\r\n    camera.aspect = window.innerWidth / window.innerHeight\r\n    camera.updateProjectionMatrix()\r\n    rm.onWindowResize()\r\n    renderer.setSize( window.innerWidth, window.innerHeight )\r\n\r\n}\r\n\r\nfunction animate() {\r\n    requestAnimationFrame( animate )\r\n    render()\r\n    controls.update()\r\n    stats.update()\r\n}\r\n\r\nfunction render()\r\n{\r\n    rm.render()\r\n}","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar apply = require('../internals/function-apply');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar isArray = require('../internals/is-array');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar isSymbol = require('../internals/is-symbol');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar $toString = require('../internals/to-string');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar arraySlice = require('../internals/array-slice');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\n\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];\nvar TypeError = global.TypeError;\nvar QObject = global.QObject;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar push = uncurryThis([].push);\n\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\n\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPropertyKey(P);\n  anObject(Attributes);\n  if (hasOwn(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!hasOwn(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (hasOwn(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || call($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPropertyKey(V);\n  var enumerable = call(nativePropertyIsEnumerable, this, P);\n  if (this === ObjectPrototype && hasOwn(AllSymbols, P) && !hasOwn(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !hasOwn(this, P) || !hasOwn(AllSymbols, P) || hasOwn(this, HIDDEN) && this[HIDDEN][P]\n    ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPropertyKey(P);\n  if (it === ObjectPrototype && hasOwn(AllSymbols, key) && !hasOwn(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && hasOwn(AllSymbols, key) && !(hasOwn(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!hasOwn(AllSymbols, key) && !hasOwn(hiddenKeys, key)) push(result, key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (hasOwn(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn(ObjectPrototype, key))) {\n      push(result, AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (isPrototypeOf(SymbolPrototype, this)) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) call(setter, ObjectPrototypeSymbols, value);\n      if (hasOwn(this, HIDDEN) && hasOwn(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  SymbolPrototype = $Symbol[PROTOTYPE];\n\n  redefine(SymbolPrototype, 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  definePropertiesModule.f = $defineProperties;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty(SymbolPrototype, 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = $toString(key);\n    if (hasOwn(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (hasOwn(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = arraySlice(arguments);\n      var $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (isCallable($replacer)) value = call($replacer, this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return apply($stringify, null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!SymbolPrototype[TO_PRIMITIVE]) {\n  var valueOf = SymbolPrototype.valueOf;\n  // eslint-disable-next-line no-unused-vars -- required for .length\n  redefine(SymbolPrototype, TO_PRIMITIVE, function (hint) {\n    // TODO: improve hint logic\n    return call(valueOf, this);\n  });\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"canvas-container\",attrs:{\"id\":\"canvas-container\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport * as THREE from 'three'\r\nimport Vue from 'vue'\r\nimport * as ThreeGlassRefraction from '../scripts/ThreeRealisticRefraction/ThreeRealisticRefraction'\r\n\r\nexport default Vue.extend({\r\n    mounted() {\r\n        if (this.$refs['canvas-container'] instanceof HTMLElement) {\r\n            ThreeGlassRefraction.initScene(this.$refs['canvas-container'])\r\n        }\r\n    }\r\n})\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeGlassRefractionTest.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeGlassRefractionTest.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ThreeGlassRefractionTest.vue?vue&type=template&id=bb4bef88&scoped=true&\"\nimport script from \"./ThreeGlassRefractionTest.vue?vue&type=script&lang=ts&\"\nexport * from \"./ThreeGlassRefractionTest.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ThreeGlassRefractionTest.vue?vue&type=style&index=0&id=bb4bef88&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb4bef88\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ThreeGlassRefractionTest.vue?vue&type=style&index=0&id=bb4bef88&scoped=true&lang=css&\"","module.exports = \"varying vec2 vUv;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 vCameraPosition;\\r\\nvarying vec4 vWorldPosition;\\r\\nvarying mat4 vProjectionMatrix;\\r\\n// varying vec3 vRefract;\\r\\n// varying vec2 vRefractOffset;\\r\\nvarying vec4 vImageUVCenter;\\r\\n\\r\\nuniform vec3 objectCenter;\\r\\n\\r\\n\\r\\nvoid main() {\\r\\n    vWorldPosition = modelMatrix * vec4( position, 1.0 );\\r\\n    vec4 mvPosition = viewMatrix * vWorldPosition;\\r\\n    gl_Position = projectionMatrix * mvPosition;\\r\\n    vUv = uv;\\r\\n\\r\\n    vNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );\\r\\n    vCameraPosition = cameraPosition;\\r\\n\\r\\n    vProjectionMatrix = projectionMatrix * modelViewMatrix;\\r\\n    vImageUVCenter = vProjectionMatrix * vec4( objectCenter, 1.0 );\\r\\n}\\r\\n\"","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","module.exports = \"uniform vec2 resolution;\\r\\nuniform sampler2D tBackground;\\r\\nuniform sampler2D tBackDepth;\\r\\nuniform sampler2D tDisplayImage;\\r\\n\\r\\nuniform samplerCube tSkybox;\\r\\nuniform vec3 absorbColor;\\r\\nuniform float refractionFactor;\\r\\nuniform float opacity;\\r\\n\\r\\nvarying vec2 vUv;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 vCameraPosition;\\r\\nvarying vec4 vWorldPosition;\\r\\nvarying mat4 vProjectionMatrix;\\r\\nvarying vec4 vImageUVCenter;\\r\\n\\r\\nfloat near = 0.1;\\r\\nfloat far  = 5000.0;\\r\\n\\r\\nfloat LinearizeDepth(float depth) \\r\\n{\\r\\n    float z = depth * 2.0 - 1.0; // back to NDC \\r\\n    return (2.0 * near * far) / (far + near - z * (far - near));\\t\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n    // gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\\r\\n    // return;\\r\\n    float backDepth = float(texture2D( tBackDepth, vec2( gl_FragCoord.x / resolution.x, gl_FragCoord.y / resolution.y ) ).x);\\r\\n    float frontDepth = gl_FragCoord.z;\\r\\n\\r\\n    if (frontDepth > backDepth) {\\r\\n        discard;\\r\\n    }\\r\\n\\r\\n    float backDepthlinear = LinearizeDepth(backDepth);\\r\\n    float frontDepthlinear = LinearizeDepth(frontDepth);\\r\\n    \\r\\n    float backToFrontDepth = backDepthlinear - frontDepthlinear;\\r\\n    backToFrontDepth *= 0.5;\\r\\n    \\r\\n    vec3 vCameraRay = vWorldPosition.xyz / vWorldPosition.w - vCameraPosition;\\r\\n    vCameraRay = normalize(vCameraRay);\\r\\n    vec3 vRefract = refract( vCameraRay, vNormal, 1.0 / refractionFactor );\\r\\n    vec4 vOriginalPos = vWorldPosition + vec4(vCameraRay, 0.0);\\r\\n    vec4 vRefractedPos = vWorldPosition + vec4(vRefract, 0.0);\\r\\n    // vRefractedPos = vOriginalPos; //vWorldPosition + vec4(vRefract, 0.0);\\r\\n    vec4 vOriginalProjectedPos = vProjectionMatrix * vOriginalPos;\\r\\n    vec4 vRefractedProjectedPos = vProjectionMatrix * vRefractedPos;\\r\\n    vec2 offset = normalize(vRefractedProjectedPos - vOriginalProjectedPos).xy;\\r\\n    offset = normalize(offset);\\r\\n\\r\\n    // reflect\\r\\n    vec3 vReflect = reflect( vCameraRay, vNormal );\\r\\n    vec3 refCol = vec3(textureCube(tSkybox, vReflect));\\r\\n\\r\\n    // snell's law\\r\\n    float cosTheta1 = dot(vCameraRay, vNormal);\\r\\n    float sinTheta1 = 1.0 - cosTheta1 * cosTheta1;\\r\\n    float sinTheta2 = sinTheta1 / refractionFactor;\\r\\n    float theta2 = asin(sinTheta2);\\r\\n    offset *= sinTheta2;\\r\\n    offset *= 100.0;\\r\\n\\r\\n    offset /= backDepth;\\r\\n\\r\\n    float samplePointX_r = (gl_FragCoord.x + backToFrontDepth * offset.x * 0.9) / resolution.x;\\r\\n    float samplePointY_r = (gl_FragCoord.y + backToFrontDepth * offset.y * 0.9) / resolution.y;\\r\\n\\r\\n    float samplePointX_g = (gl_FragCoord.x + backToFrontDepth * offset.x * 0.95) / resolution.x;\\r\\n    float samplePointY_g = (gl_FragCoord.y + backToFrontDepth * offset.y * 0.95) / resolution.y;\\r\\n\\r\\n    float samplePointX_b = (gl_FragCoord.x + backToFrontDepth * offset.x) / resolution.x;\\r\\n    float samplePointY_b = (gl_FragCoord.y + backToFrontDepth * offset.y) / resolution.y;\\r\\n    \\r\\n    float backColor_r = texture2D( tBackground, vec2( samplePointX_r, samplePointY_r ) * 1.0 ).x;\\r\\n    float backColor_g = texture2D( tBackground, vec2( samplePointX_g, samplePointY_g ) * 1.0 ).y;\\r\\n    float backColor_b = texture2D( tBackground, vec2( samplePointX_b, samplePointY_b ) * 1.0 ).z;\\r\\n\\r\\n    vec3 backColor = vec3(backColor_r, backColor_g, backColor_b);\\r\\n    vec3 absorbColor = absorbColor * sqrt(backToFrontDepth) * opacity;\\r\\n    float sqrtDepth = sqrt(backToFrontDepth) * opacity;\\r\\n    float absorbFactor = sqrtDepth / (1.0 + sqrtDepth);\\r\\n    vec3 refractCol = mix(backColor, absorbColor, absorbFactor);\\r\\n\\r\\n    // backColor = texture2D( tBackground, vec2( (gl_FragCoord.x + backToFrontDepth * offset.x) / resolution.x, (gl_FragCoord.y + backToFrontDepth * offset.y) / resolution.y ) * 1.0 ).xyz;\\r\\n\\r\\n    // gl_FragColor = vec4(refCol, 1.0);\\r\\n    float reflectionCoeff = pow(sinTheta1, 4.0);\\r\\n    // reflectionCoeff = 1.0;\\r\\n\\r\\n    // vec4 image = vec4(vec3(texture2D( tDisplayImage, vec2( (gl_FragCoord.x + vImageUVCenter.x) / resolution.x, (gl_FragCoord.y + vImageUVCenter.y) / resolution.y ) )), 1.0);\\r\\n    // vec4 image = vec4((gl_FragCoord.x + vImageUVCenter.x) / resolution.x, (gl_FragCoord.y + vImageUVCenter.y) / resolution.y, 1.0, 1.0);\\r\\n    // vec4 image = vec4(1.0, 0.0, 0.0, 1.0);\\r\\n\\r\\n    // gl_FragColor = vec4(mix(refractCol, refCol, reflectionCoeff), 1.0);\\r\\n    gl_FragColor = vec4(mix(refractCol, refCol, reflectionCoeff), 1.0);\\r\\n    // gl_FragColor = image;\\r\\n    // if (gl_FragCoord.x < 600.0) {\\r\\n    //     gl_FragColor = vec4(mix(refractCol, refCol, reflectionCoeff), 1.0);\\r\\n    // }\\r\\n    // gl_FragColor = vec4(backColor, 1.0);\\r\\n    // gl_FragColor = vec4(vec3(backDepthlinear * 0.01), 1.0);\\r\\n}\""],"sourceRoot":""}