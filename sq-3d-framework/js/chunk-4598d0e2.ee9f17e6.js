(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4598d0e2"],{"0538":function(t,e,i){"use strict";var a=i("da84"),n=i("e330"),o=i("59ed"),r=i("861d"),s=i("1a2d"),c=i("f36a"),d=i("40d5"),h=a.Function,u=n([].concat),l=n([].join),f={},v=function(t,e,i){if(!s(f,e)){for(var a=[],n=0;n<e;n++)a[n]="a["+n+"]";f[e]=h("C,a","return new C("+l(a,",")+")")}return f[e](t,i)};t.exports=d?h.bind:function(t){var e=o(this),i=e.prototype,a=c(arguments,1),n=function(){var i=u(a,c(arguments));return this instanceof n?v(e,i.length,i):e.apply(t,i)};return r(i)&&(n.prototype=i),n}},"057f":function(t,e,i){var a=i("c6b6"),n=i("fc6a"),o=i("241c").f,r=i("4dae"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return o(t)}catch(e){return r(s)}};t.exports.f=function(t){return s&&"Window"==a(t)?c(t):o(n(t))}},"257e":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));i("d9e2");function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},"262e":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i("d9e2");function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function n(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}},"26e3":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return c})),i.d(e,"c",(function(){return d}));var a=i("d4ec"),n=i("bee2"),o=i("ade3"),r=(i("4c53"),i("d3b7"),i("159b"),i("5a89")),s=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;Object(a["a"])(this,t),Object(o["a"])(this,"damp",void 0),Object(o["a"])(this,"attract",void 0),Object(o["a"])(this,"object",void 0),Object(o["a"])(this,"velocity",void 0),Object(o["a"])(this,"childObjects",void 0),this.damp=i,this.attract=n,this.object=e,this.velocity=new r["Fb"],this.childObjects=[]}return Object(n["a"])(t,[{key:"addChildObj",value:function(t){this.childObjects.push(t)}},{key:"update",value:function(t){var e=this;this.velocity.multiplyScalar(this.damp);var i=t.sub(this.object.position);this.velocity.add(i.multiplyScalar(this.attract)),this.object.position.add(this.velocity),this.childObjects.forEach((function(t){t.position.copy(e.object.position),t.rotation.copy(e.object.rotation)}))}}]),t}(),c=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;Object(a["a"])(this,t),Object(o["a"])(this,"damp",void 0),Object(o["a"])(this,"attract",void 0),Object(o["a"])(this,"velocity",void 0),Object(o["a"])(this,"currentVec3",void 0),this.damp=i,this.attract=n,this.velocity=new r["Fb"],this.currentVec3=e}return Object(n["a"])(t,[{key:"update",value:function(t){this.velocity.multiplyScalar(this.damp);var e=(new r["Fb"]).copy(t).sub(this.currentVec3);this.velocity.add(e.multiplyScalar(this.attract)),this.currentVec3.add(this.velocity)}}]),t}();function d(){var t=0,e=0;while(0===t)t=Math.random();while(0===e)e=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)}},"2af1":function(t,e,i){var a=i("23e7"),n=i("f748");a({target:"Math",stat:!0},{sign:n})},"2caf":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));i("4ae1"),i("d3b7"),i("f8c9"),i("3410");function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}i("d9e2"),i("a4d3"),i("e01a"),i("d28b"),i("3ca3"),i("ddb0");function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}var r=i("257e");function s(t,e){if(e&&("object"===o(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Object(r["a"])(t)}function c(t){var e=n();return function(){var i,n=a(t);if(e){var o=a(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return s(this,i)}}},"2ffd":function(t,e,i){},3410:function(t,e,i){var a=i("23e7"),n=i("d039"),o=i("7b0b"),r=i("e163"),s=i("e177"),c=n((function(){r(1)}));a({target:"Object",stat:!0,forced:c,sham:!s},{getPrototypeOf:function(t){return r(o(t))}})},"428f":function(t,e,i){var a=i("da84");t.exports=a},"4ae1":function(t,e,i){var a=i("23e7"),n=i("d066"),o=i("2ba4"),r=i("0538"),s=i("5087"),c=i("825a"),d=i("861d"),h=i("7c73"),u=i("d039"),l=n("Reflect","construct"),f=Object.prototype,v=[].push,b=u((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),m=!u((function(){l((function(){}))})),p=b||m;a({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){s(t),c(e);var i=arguments.length<3?t:s(arguments[2]);if(m&&!b)return l(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var a=[null];return o(v,a,e),new(o(r,t,a))}var n=i.prototype,u=h(d(n)?n:f),p=o(t,u,e);return d(p)?p:u}})},"4c53":function(t,e,i){"use strict";var a=i("23e7"),n=i("857a"),o=i("af03");a({target:"String",proto:!0,forced:o("sub")},{sub:function(){return n(this,"sub","","")}})},"4dae":function(t,e,i){var a=i("da84"),n=i("23cb"),o=i("07fa"),r=i("8418"),s=a.Array,c=Math.max;t.exports=function(t,e,i){for(var a=o(t),d=n(e,a),h=n(void 0===i?a:i,a),u=s(c(h-d,0)),l=0;d<h;d++,l++)r(u,l,t[d]);return u.length=l,u}},6970:function(t,e,i){"use strict";i.d(e,"a",(function(){return d})),i.d(e,"b",(function(){return u}));var a=i("d4ec"),n=i("bee2"),o=i("ade3"),r=(i("2af1"),i("d3b7"),i("159b"),i("5a89")),s=i("61d9"),c=i("26e3"),d=function(){function t(e,i,n,r,s,c){var d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.01;Object(a["a"])(this,t),Object(o["a"])(this,"angle",void 0),Object(o["a"])(this,"radius",void 0),Object(o["a"])(this,"z",void 0),Object(o["a"])(this,"angleTarget",void 0),Object(o["a"])(this,"radiusTarget",void 0),Object(o["a"])(this,"zTarget",void 0),Object(o["a"])(this,"angleV",void 0),Object(o["a"])(this,"radiusV",void 0),Object(o["a"])(this,"zV",void 0),Object(o["a"])(this,"momentum",void 0),Object(o["a"])(this,"attraction",void 0),Object(o["a"])(this,"relVelocity",void 0),Object(o["a"])(this,"isAlmostStatic",void 0),Object(o["a"])(this,"staticThreshold",void 0),Object(o["a"])(this,"afterStaticEvent",void 0),this.angle=e,this.radius=i,this.z=n,this.angleTarget=e,this.radiusTarget=i,this.zTarget=n,this.angleV=0,this.radiusV=0,this.zV=0,this.momentum=r,this.attraction=s,this.relVelocity=c,this.isAlmostStatic=!0,this.staticThreshold=d,this.afterStaticEvent=void 0}return Object(n["a"])(t,[{key:"getPosition",value:function(){return new r["Fb"](-this.radius*Math.cos(this.angle+Math.PI/2),this.radius*Math.sin(this.angle+Math.PI/2),-this.z)}},{key:"getRotation",value:function(){return new r["x"](0,0,-this.angle-Math.PI/2)}},{key:"nonlinear",value:function(t){return Math.sqrt(Math.abs(t))*Math.sign(t)}},{key:"update",value:function(){this.angleV=this.attraction*this.nonlinear(this.angleTarget-this.angle)+this.momentum*this.angleV,this.radiusV=this.attraction*this.nonlinear(this.radiusTarget-this.radius)+this.momentum*this.radiusV,this.zV=this.attraction*this.nonlinear(this.zTarget-this.z)+this.momentum*this.zV,this.angle+=this.relVelocity*this.angleV*.1,this.radius+=this.relVelocity*this.radiusV,this.z+=this.relVelocity*this.zV;var t=this.isAlmostStatic;this.isAlmostStatic=Math.abs(this.radiusTarget-this.radius)+Math.abs(this.angleTarget-this.angle)+Math.abs(this.zTarget-this.z)<this.staticThreshold,!t&&this.isAlmostStatic&&this.afterStaticEvent&&(this.afterStaticEvent(),this.afterStaticEvent=void 0)}}]),t}(),h=function(){function t(e,i,n){Object(a["a"])(this,t),Object(o["a"])(this,"mesh",void 0),Object(o["a"])(this,"info",void 0),Object(o["a"])(this,"controller",void 0),this.mesh=e,this.info=i,this.controller=n,this.mesh.position.copy(this.controller.getPosition()),this.mesh.rotation.copy(this.controller.getRotation())}return Object(n["a"])(t,[{key:"updateByController",value:function(){this.controller.update(),this.mesh.position.copy(this.controller.getPosition()),this.mesh.rotation.copy(this.controller.getRotation())}}]),t}(),u=function(){function t(e,i,n,u,l,f,v){var b=this,m=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{cardSizeX:70,cardSizeY:50,cardHelixRadius:80,cardHelixZGap:10,cardHelixRotateRadGap:.3,cardHelixFocusRadius:100,cardHelixFocusRotateRadGap:.5,cardMomentum:.85,cardAttraction:.36,cardRelVelocity:.16};Object(a["a"])(this,t),Object(o["a"])(this,"container",void 0),Object(o["a"])(this,"renderer",void 0),Object(o["a"])(this,"scene",void 0),Object(o["a"])(this,"stats",void 0),Object(o["a"])(this,"mousePosX",void 0),Object(o["a"])(this,"mousePosY",void 0),Object(o["a"])(this,"pointer",void 0),Object(o["a"])(this,"camera",void 0),Object(o["a"])(this,"cameraBasicLookAt",void 0),Object(o["a"])(this,"cameraBasicPosition",void 0),Object(o["a"])(this,"raycaster",void 0),Object(o["a"])(this,"intersectObjs",void 0),Object(o["a"])(this,"cssScene",void 0),Object(o["a"])(this,"cssRenderer",void 0),Object(o["a"])(this,"loadingManager",void 0),Object(o["a"])(this,"cards",void 0),Object(o["a"])(this,"cardGroup",void 0),Object(o["a"])(this,"configs",void 0),Object(o["a"])(this,"cardGroupStatus",void 0),Object(o["a"])(this,"pickedCardIndex",void 0),Object(o["a"])(this,"onCardFocus",void 0),Object(o["a"])(this,"onCardRouteJump",void 0),Object(o["a"])(this,"cameraPositionController",void 0),Object(o["a"])(this,"cameraWithMouseRotateFactor",void 0),Object(o["a"])(this,"isScenePaused",void 0),Object(o["a"])(this,"animate",(function(){b.isScenePaused||(requestAnimationFrame(b.animate),b.updateCamera(),b.cards.forEach((function(t){t.updateByController()})),b.render(),b.stats.update())})),Object(o["a"])(this,"onWindowResize",(function(){b.camera.aspect=window.innerWidth/window.innerHeight,b.camera.updateProjectionMatrix(),b.renderer.setSize(window.innerWidth,window.innerHeight),b.cssRenderer&&b.cssRenderer.setSize(window.innerWidth,window.innerHeight)})),Object(o["a"])(this,"onMouseWheel",(function(t){2==b.cardGroupStatus&&(t.deltaY>0?b.pickedCardIndex<b.cards.length-1&&b.pickedCardIndex++:b.pickedCardIndex>0&&b.pickedCardIndex--,b.pickCard(b.pickedCardIndex))})),Object(o["a"])(this,"onMouseMove",(function(t){b.mousePosX=t.clientX,b.mousePosY=t.clientY,b.pointer.x=t.clientX/window.innerWidth*2-1,b.pointer.y=-t.clientY/window.innerHeight*2+1})),Object(o["a"])(this,"onClick",(function(t){b.raycaster.setFromCamera(b.pointer,b.camera);var e=b.raycaster.intersectObjects(b.intersectObjs,!1);if(e.length>=1)if(0==b.cardGroupStatus)b.cardGroupStatus=1,b.fanCard();else{for(var i=0;i<b.cards.length;i++)if(e[0].object==b.cards[i].mesh)break;1==b.cardGroupStatus?(b.cardGroupStatus=2,b.pickCard(i),b.pickedCardIndex=i):2==b.cardGroupStatus&&(b.pickedCardIndex==i?(b.cardGroupStatus=3,b.focusOnCard(b.pickedCardIndex)):(b.pickCard(i),b.pickedCardIndex=i))}else 3==b.cardGroupStatus?(b.cardGroupStatus=2,b.pickCard(b.pickedCardIndex)):2==b.cardGroupStatus?(b.cardGroupStatus=1,b.fanCard()):1==b.cardGroupStatus&&(b.cardGroupStatus=0,b.stackCard())}));this.container=e,this.camera=new r["cb"](45,window.innerWidth/window.innerHeight,1,5e3),this.renderer=new r["Kb"]({alpha:!0}),this.renderer.setClearColor(16777215),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.container.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=r["bb"],this.stats=new s["Stats"],this.stats.domElement.style.zIndex="100",this.container.appendChild(this.stats.domElement),this.cameraBasicLookAt=new r["Fb"](0),this.cameraBasicPosition=new r["Fb"](0,300,350),this.camera.position.copy(this.cameraBasicPosition),this.camera.lookAt(this.cameraBasicLookAt),this.scene=new r["ob"],this.cssScene=new r["ob"],this.loadingManager=new r["N"]((function(){n&&(n(),b.stackCard())}),(function(t,e,i){u&&u(t,e,i)}),(function(t){l&&l(t)}));var p=new r["s"](16777215);p.position.set(0,500,0),p.castShadow=!0,p.shadow.camera.left=-150,p.shadow.camera.right=150,p.shadow.camera.bottom=-150,p.shadow.camera.top=150,p.shadow.camera.near=10,p.shadow.camera.far=511,p.shadow.mapSize.width=1024,p.shadow.mapSize.height=1024,p.shadow.bias=-1e-4,this.scene.add(p);var g=new r["fb"](1e3,1e3),w=new r["T"](g,new r["W"]({color:6316128}));w.castShadow=!1,w.receiveShadow=!0,w.position.y=-10,w.rotation.x=-.5*Math.PI,this.scene.add(w),this.intersectObjs=[],this.cardGroup=new r["D"],this.cards=[],this.configs=m;var y=new r["fb"](m.cardSizeX,m.cardSizeY);i.forEach((function(t,e){var i=new r["zb"](b.loadingManager).load(t.imgUrl),a=new h(new r["T"](y,new r["U"]({map:i,side:r["t"]})),t,new d(e,200,50*e+250,b.configs.cardMomentum,b.configs.cardAttraction,b.configs.cardRelVelocity));a.mesh.castShadow=!0,a.mesh.receiveShadow=!0,b.cards.push(a),b.cardGroup.add(a.mesh),b.intersectObjs.push(a.mesh)})),this.cardGroup.rotation.x=Math.PI/2,this.scene.add(this.cardGroup),this.pickedCardIndex=0,this.cardGroupStatus=0,this.onCardFocus=f,this.onCardRouteJump=v,this.raycaster=new r["lb"],this.cameraPositionController=new c["b"](new r["Fb"],.9,.002),this.cameraWithMouseRotateFactor=35,this.mousePosX=0,this.mousePosY=0,this.pointer=new r["Eb"],this.isScenePaused=!1,this.resumeScene()}return Object(n["a"])(t,[{key:"render",value:function(){this.renderer.render(this.scene,this.camera),this.cssRenderer&&this.cssRenderer.render(this.cssScene,this.camera)}},{key:"stackCard",value:function(){this.cards.forEach((function(t,e){t.controller.angleTarget=0,t.controller.radiusTarget=0,t.controller.zTarget=2*e}))}},{key:"pickCard",value:function(t){if(!(t<0||t>this.cards.length-1)){for(var e=t-1;e>=0;e--){var i=this.cards[e];i.controller.angleTarget=(e-t)*this.configs.cardHelixRotateRadGap-(this.configs.cardHelixFocusRotateRadGap-this.configs.cardHelixRotateRadGap),i.controller.radiusTarget=this.configs.cardHelixRadius,i.controller.zTarget=this.configs.cardHelixZGap*e}for(var a=t+1;a<this.cards.length;a++){var n=this.cards[a];n.controller.angleTarget=(a-t)*this.configs.cardHelixRotateRadGap+(this.configs.cardHelixFocusRotateRadGap-this.configs.cardHelixRotateRadGap),n.controller.radiusTarget=this.configs.cardHelixRadius,n.controller.zTarget=this.configs.cardHelixZGap*a}var o=this.cards[t];o.controller.angleTarget=0,o.controller.radiusTarget=this.configs.cardHelixFocusRadius,o.controller.zTarget=this.configs.cardHelixZGap*t,this.onCardFocus&&this.onCardFocus(t)}}},{key:"fanCard",value:function(){var t=this;this.cards.forEach((function(e,i){e.controller.angleTarget=(i+.5-t.cards.length/2)*t.configs.cardHelixRotateRadGap,e.controller.radiusTarget=t.configs.cardHelixRadius,e.controller.zTarget=t.configs.cardHelixZGap*i}))}},{key:"focusOnCard",value:function(t){var e=this;this.cards.forEach((function(i,a){t==a?(i.controller.radiusTarget=0,i.controller.zTarget=10,i.controller.afterStaticEvent=function(){e.pauseScene(),console.log("url jumps to: ",e.cards[t].info.url)}):(i.controller.radiusTarget=500,i.controller.afterStaticEvent=void 0)}))}},{key:"updateCamera",value:function(){var t=new r["Fb"](this.pointer.x*this.cameraWithMouseRotateFactor,this.pointer.y*this.cameraWithMouseRotateFactor,-this.pointer.y*this.cameraWithMouseRotateFactor);this.cameraPositionController.update(t),t.copy(this.cameraPositionController.currentVec3).add(this.cameraBasicPosition),this.camera.position.copy(t),this.camera.lookAt(this.cameraBasicLookAt)}},{key:"pauseScene",value:function(){this.isScenePaused=!0;var t=this;window.removeEventListener("resize",t.onWindowResize),window.removeEventListener("wheel",t.onMouseWheel),window.removeEventListener("mousemove",t.onMouseMove),window.removeEventListener("click",t.onClick)}},{key:"resumeScene",value:function(){this.isScenePaused=!1,this.animate();var t=this;window.addEventListener("resize",t.onWindowResize),window.addEventListener("wheel",t.onMouseWheel),window.addEventListener("mousemove",t.onMouseMove),window.addEventListener("click",t.onClick)}}]),t}()},"746f":function(t,e,i){var a=i("428f"),n=i("1a2d"),o=i("e538"),r=i("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});n(e,t)||r(e,t,{value:o.f(t)})}},8418:function(t,e,i){"use strict";var a=i("a04b"),n=i("9bf2"),o=i("5c6c");t.exports=function(t,e,i){var r=a(e);r in t?n.f(t,r,o(0,i)):t[r]=i}},"857a":function(t,e,i){var a=i("e330"),n=i("1d80"),o=i("577e"),r=/"/g,s=a("".replace);t.exports=function(t,e,i,a){var c=o(n(t)),d="<"+e;return""!==i&&(d+=" "+i+'="'+s(o(a),r,"&quot;")+'"'),d+">"+c+"</"+e+">"}},8896:function(t,e,i){"use strict";i("2ffd")},9037:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"canvas-container",attrs:{id:"canvas-container"}},[i("div",{staticClass:"loading-container",class:{"loading-container--hidden":t.loadingStat.isLoaded,"loading-container--none":t.loadingStat.noLoadingStat}},[i("div",{staticClass:"load-stat"},[i("div",{staticClass:"load-pgbar",style:{width:100*t.loadingStat.loaded/t.loadingStat.total+"%"}}),i("div",{staticClass:"load-text"},[t._v(t._s(Math.round(100*t.loadingStat.loaded/t.loadingStat.total))+" %")])])])])])},n=[],o=i("2b0e"),r=i("ade3"),s=i("d4ec"),c=i("bee2"),d=i("262e"),h=i("2caf"),u=(i("2af1"),i("d3b7"),i("159b"),i("5a89")),l=i("61d9"),f=i("26e3"),v=i("6970"),b=function(t){Object(d["a"])(i,t);var e=Object(h["a"])(i);function i(t,a,n,o,r,c){var d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.01;return Object(s["a"])(this,i),e.call(this,t,a,n,o,r,c,d)}return Object(c["a"])(i,[{key:"getPosition",value:function(){return new u["Fb"](-this.radius*Math.cos(this.angle+Math.PI/2),this.radius*Math.sin(this.angle+Math.PI/2),-this.z)}},{key:"getRotation",value:function(){return new u["x"](Math.PI/2,-this.angle,Math.PI/2)}},{key:"nonlinear",value:function(t){return Math.sqrt(Math.abs(t))*Math.sign(t)}},{key:"update",value:function(){this.angleV=this.attraction*this.nonlinear(this.angleTarget-this.angle)+this.momentum*this.angleV,this.radiusV=this.attraction*this.nonlinear(this.radiusTarget-this.radius)+this.momentum*this.radiusV,this.zV=this.attraction*this.nonlinear(this.zTarget-this.z)+this.momentum*this.zV,this.angle+=this.relVelocity*this.angleV*.1,this.radius+=this.relVelocity*this.radiusV,this.z+=this.relVelocity*this.zV;var t=this.isAlmostStatic;this.isAlmostStatic=Math.abs(this.radiusTarget-this.radius)+Math.abs(this.angleTarget-this.angle)+Math.abs(this.zTarget-this.z)<this.staticThreshold,!t&&this.isAlmostStatic&&this.afterStaticEvent&&(this.afterStaticEvent(),this.afterStaticEvent=void 0)}}]),i}(v["a"]),m=function(){function t(e,i,a){Object(s["a"])(this,t),Object(r["a"])(this,"mesh",void 0),Object(r["a"])(this,"info",void 0),Object(r["a"])(this,"controller",void 0),this.mesh=e,this.info=i,this.controller=a,this.mesh.position.copy(this.controller.getPosition()),this.mesh.rotation.copy(this.controller.getRotation())}return Object(c["a"])(t,[{key:"updateByController",value:function(){this.controller.update(),this.mesh.position.copy(this.controller.getPosition()),this.mesh.rotation.copy(this.controller.getRotation())}}]),t}(),p=function(){function t(e,i,a,n,o,c,d){var h=this,v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{cardSizeX:70,cardSizeY:50,cardRingRadius:90,cardRingFocusRadius:70,cardMomentum:.87,cardAttraction:.25,cardRelVelocity:.18,wheelSpeedFactor:.4,cameraDist:220};Object(s["a"])(this,t),Object(r["a"])(this,"container",void 0),Object(r["a"])(this,"renderer",void 0),Object(r["a"])(this,"scene",void 0),Object(r["a"])(this,"stats",void 0),Object(r["a"])(this,"mousePosX",void 0),Object(r["a"])(this,"mousePosY",void 0),Object(r["a"])(this,"pointer",void 0),Object(r["a"])(this,"camera",void 0),Object(r["a"])(this,"cameraBasicLookAt",void 0),Object(r["a"])(this,"cameraBasicPosition",void 0),Object(r["a"])(this,"raycaster",void 0),Object(r["a"])(this,"intersectObjs",void 0),Object(r["a"])(this,"cssScene",void 0),Object(r["a"])(this,"cssRenderer",void 0),Object(r["a"])(this,"loadingManager",void 0),Object(r["a"])(this,"cards",void 0),Object(r["a"])(this,"cardGroup",void 0),Object(r["a"])(this,"configs",void 0),Object(r["a"])(this,"pickedCardIndex",void 0),Object(r["a"])(this,"carouselRotateAngle",void 0),Object(r["a"])(this,"lastWheelTime",void 0),Object(r["a"])(this,"onCardFocus",void 0),Object(r["a"])(this,"onCardRouteJump",void 0),Object(r["a"])(this,"cameraPositionController",void 0),Object(r["a"])(this,"cameraWithMouseRotateFactor",void 0),Object(r["a"])(this,"isScenePaused",void 0),Object(r["a"])(this,"animate",(function(){h.isScenePaused||(requestAnimationFrame(h.animate),h.cards.forEach((function(t){t.updateByController()})),h.render(),h.stats.update())})),Object(r["a"])(this,"onWindowResize",(function(){h.camera.aspect=window.innerWidth/window.innerHeight,h.camera.updateProjectionMatrix(),h.renderer.setSize(window.innerWidth,window.innerHeight),h.cssRenderer&&h.cssRenderer.setSize(window.innerWidth,window.innerHeight)})),Object(r["a"])(this,"onMouseWheel",(function(t){h.lastWheelTime=(new Date).getTime(),t.deltaY>0?h.carouselRotateAngle+=h.configs.wheelSpeedFactor:h.carouselRotateAngle-=h.configs.wheelSpeedFactor;var e=h;setTimeout((function(){var t=(new Date).getTime();if(t-e.lastWheelTime>=199){var i=Math.round(e.carouselRotateAngle),a=(i%e.cards.length+e.cards.length)%e.cards.length;console.log("AAAAAAAAAA",a,i),e.pickCard(e.pickedCardIndex,a)}}),200),h.makeCarousel()})),Object(r["a"])(this,"onMouseMove",(function(t){h.mousePosX=t.clientX,h.mousePosY=t.clientY,h.pointer.x=t.clientX/window.innerWidth*2-1,h.pointer.y=-t.clientY/window.innerHeight*2+1})),Object(r["a"])(this,"onClick",(function(t){h.raycaster.setFromCamera(h.pointer,h.camera);var e=h.raycaster.intersectObjects(h.intersectObjs,!1);if(e.length>=1){for(var i=0;i<h.cards.length;i++)if(e[0].object==h.cards[i].mesh)break;h.pickCard(h.pickedCardIndex,i)}}));this.container=e,this.camera=new u["cb"](45,window.innerWidth/window.innerHeight,1,5e3),this.renderer=new u["Kb"]({alpha:!0}),this.renderer.setClearColor(16777215),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.container.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=u["bb"],this.stats=new l["Stats"],this.stats.domElement.style.zIndex="100",this.container.appendChild(this.stats.domElement),this.cameraBasicLookAt=new u["Fb"](0),this.cameraBasicPosition=new u["Fb"](0,0,v.cameraDist),this.camera.position.copy(this.cameraBasicPosition),this.camera.lookAt(this.cameraBasicLookAt),this.scene=new u["ob"],this.cssScene=new u["ob"],this.loadingManager=new u["N"]((function(){a&&(a(),h.makeCarousel())}),(function(t,e,i){n&&n(t,e,i)}),(function(t){o&&o(t)})),this.intersectObjs=[],this.cardGroup=new u["D"],this.cards=[],this.configs=v;var p=new u["fb"](v.cardSizeX,v.cardSizeY);i.forEach((function(t,e){var a=new u["zb"](h.loadingManager).load(t.imgUrl),n=new m(new u["T"](p,new u["U"]({map:a,side:u["t"]})),t,new b(2*Math.random()+e*Math.PI*2/i.length,200,200*Math.random()+100,h.configs.cardMomentum,h.configs.cardAttraction,h.configs.cardRelVelocity));n.mesh.castShadow=!0,n.mesh.receiveShadow=!0,h.cards.push(n),h.cardGroup.add(n.mesh),h.intersectObjs.push(n.mesh)})),this.cardGroup.rotation.x=Math.PI/2,this.scene.add(this.cardGroup),this.carouselRotateAngle=0,this.pickedCardIndex=0,this.lastWheelTime=0,this.onCardFocus=c,this.onCardRouteJump=d,this.raycaster=new u["lb"],this.cameraPositionController=new f["b"](new u["Fb"],.9,.002),this.cameraWithMouseRotateFactor=35,this.mousePosX=0,this.mousePosY=0,this.pointer=new u["Eb"],this.isScenePaused=!1,this.resumeScene()}return Object(c["a"])(t,[{key:"render",value:function(){this.renderer.render(this.scene,this.camera),this.cssRenderer&&this.cssRenderer.render(this.cssScene,this.camera)}},{key:"makeCarousel",value:function(){var t=this,e=2*Math.PI/this.cards.length;this.cards.forEach((function(i,a){i.controller.angleTarget=(a-t.carouselRotateAngle)*e,i.controller.radiusTarget=t.configs.cardRingRadius,i.controller.zTarget=0}))}},{key:"makeCarouselFocus",value:function(t,e){e<t&&(e+=this.cards.length),this.carouselRotateAngle=Math.round(this.carouselRotateAngle),e<=t+this.cards.length/2?this.carouselRotateAngle+=e-t:this.carouselRotateAngle+=e-t-this.cards.length,this.makeCarousel()}},{key:"pickCard",value:function(t,e){e<0||e>this.cards.length-1||(this.makeCarouselFocus(t,e),this.onCardFocus&&this.onCardFocus(e),this.pickedCardIndex=e)}},{key:"updateCamera",value:function(){var t=new u["Fb"](this.pointer.x*this.cameraWithMouseRotateFactor,this.pointer.y*this.cameraWithMouseRotateFactor,-this.pointer.y*this.cameraWithMouseRotateFactor);this.cameraPositionController.update(t),t.copy(this.cameraPositionController.currentVec3).add(this.cameraBasicPosition),this.camera.position.copy(t),this.camera.lookAt(this.cameraBasicLookAt)}},{key:"pauseScene",value:function(){this.isScenePaused=!0;var t=this;window.removeEventListener("resize",t.onWindowResize),window.removeEventListener("wheel",t.onMouseWheel),window.removeEventListener("mousemove",t.onMouseMove),window.removeEventListener("click",t.onClick)}},{key:"resumeScene",value:function(){this.isScenePaused=!1,this.animate();var t=this;window.addEventListener("resize",t.onWindowResize),window.addEventListener("wheel",t.onMouseWheel),window.addEventListener("mousemove",t.onMouseMove),window.addEventListener("click",t.onClick)}}]),t}(),g=o["a"].extend({data:function(){return{cm:null,loadingStat:{loaded:0,total:1,isLoaded:!1,noLoadingStat:!1},cardInfos:new Array}},mounted:function(){for(var t=this,e=this,i=0;i<10;i++)this.cardInfos.push({imgUrl:"card".concat(Math.floor(i%3)+1,".jpg"),url:"fakeUrl_"+i});this.$refs["canvas-container"]instanceof HTMLElement&&(this.cm=new p(this.$refs["canvas-container"],this.cardInfos,(function(){console.log("loaded"),e.loadingStat.isLoaded=!0,setTimeout((function(){e.loadingStat.noLoadingStat=!0}),501)}),(function(e,i,a){t.loadingStat.loaded=i,t.loadingStat.total=a}),(function(t){console.error("failed to load asset: "+t),e.loadingStat.isLoaded=!0}),(function(t){console.log("focused on card: ",t)})))},methods:{onGlassClick:function(){alert("glass clicked!")}}}),w=g,y=(i("8896"),i("2877")),O=Object(y["a"])(w,a,n,!1,null,"d72f668e",null);e["default"]=O.exports},a4d3:function(t,e,i){"use strict";var a=i("23e7"),n=i("da84"),o=i("d066"),r=i("2ba4"),s=i("c65b"),c=i("e330"),d=i("c430"),h=i("83ab"),u=i("4930"),l=i("d039"),f=i("1a2d"),v=i("e8b5"),b=i("1626"),m=i("861d"),p=i("3a9b"),g=i("d9b5"),w=i("825a"),y=i("7b0b"),O=i("fc6a"),j=i("a04b"),S=i("577e"),R=i("5c6c"),k=i("7c73"),C=i("df75"),M=i("241c"),P=i("057f"),x=i("7418"),z=i("06cf"),T=i("9bf2"),E=i("37e8"),F=i("d1e7"),A=i("f36a"),V=i("6eeb"),G=i("5692"),W=i("f772"),I=i("d012"),H=i("90e3"),L=i("b622"),B=i("e538"),Y=i("746f"),X=i("d44e"),_=i("69f3"),D=i("b727").forEach,J=W("hidden"),N="Symbol",q="prototype",U=L("toPrimitive"),Z=_.set,$=_.getterFor(N),K=Object[q],Q=n.Symbol,tt=Q&&Q[q],et=n.TypeError,it=n.QObject,at=o("JSON","stringify"),nt=z.f,ot=T.f,rt=P.f,st=F.f,ct=c([].push),dt=G("symbols"),ht=G("op-symbols"),ut=G("string-to-symbol-registry"),lt=G("symbol-to-string-registry"),ft=G("wks"),vt=!it||!it[q]||!it[q].findChild,bt=h&&l((function(){return 7!=k(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a}))?function(t,e,i){var a=nt(K,e);a&&delete K[e],ot(t,e,i),a&&t!==K&&ot(K,e,a)}:ot,mt=function(t,e){var i=dt[t]=k(tt);return Z(i,{type:N,tag:t,description:e}),h||(i.description=e),i},pt=function(t,e,i){t===K&&pt(ht,e,i),w(t);var a=j(e);return w(i),f(dt,a)?(i.enumerable?(f(t,J)&&t[J][a]&&(t[J][a]=!1),i=k(i,{enumerable:R(0,!1)})):(f(t,J)||ot(t,J,R(1,{})),t[J][a]=!0),bt(t,a,i)):ot(t,a,i)},gt=function(t,e){w(t);var i=O(e),a=C(i).concat(St(i));return D(a,(function(e){h&&!s(yt,i,e)||pt(t,e,i[e])})),t},wt=function(t,e){return void 0===e?k(t):gt(k(t),e)},yt=function(t){var e=j(t),i=s(st,this,e);return!(this===K&&f(dt,e)&&!f(ht,e))&&(!(i||!f(this,e)||!f(dt,e)||f(this,J)&&this[J][e])||i)},Ot=function(t,e){var i=O(t),a=j(e);if(i!==K||!f(dt,a)||f(ht,a)){var n=nt(i,a);return!n||!f(dt,a)||f(i,J)&&i[J][a]||(n.enumerable=!0),n}},jt=function(t){var e=rt(O(t)),i=[];return D(e,(function(t){f(dt,t)||f(I,t)||ct(i,t)})),i},St=function(t){var e=t===K,i=rt(e?ht:O(t)),a=[];return D(i,(function(t){!f(dt,t)||e&&!f(K,t)||ct(a,dt[t])})),a};if(u||(Q=function(){if(p(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=H(t),i=function(t){this===K&&s(i,ht,t),f(this,J)&&f(this[J],e)&&(this[J][e]=!1),bt(this,e,R(1,t))};return h&&vt&&bt(K,e,{configurable:!0,set:i}),mt(e,t)},tt=Q[q],V(tt,"toString",(function(){return $(this).tag})),V(Q,"withoutSetter",(function(t){return mt(H(t),t)})),F.f=yt,T.f=pt,E.f=gt,z.f=Ot,M.f=P.f=jt,x.f=St,B.f=function(t){return mt(L(t),t)},h&&(ot(tt,"description",{configurable:!0,get:function(){return $(this).description}}),d||V(K,"propertyIsEnumerable",yt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Q}),D(C(ft),(function(t){Y(t)})),a({target:N,stat:!0,forced:!u},{for:function(t){var e=S(t);if(f(ut,e))return ut[e];var i=Q(e);return ut[e]=i,lt[i]=e,i},keyFor:function(t){if(!g(t))throw et(t+" is not a symbol");if(f(lt,t))return lt[t]},useSetter:function(){vt=!0},useSimple:function(){vt=!1}}),a({target:"Object",stat:!0,forced:!u,sham:!h},{create:wt,defineProperty:pt,defineProperties:gt,getOwnPropertyDescriptor:Ot}),a({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:jt,getOwnPropertySymbols:St}),a({target:"Object",stat:!0,forced:l((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(y(t))}}),at){var Rt=!u||l((function(){var t=Q();return"[null]"!=at([t])||"{}"!=at({a:t})||"{}"!=at(Object(t))}));a({target:"JSON",stat:!0,forced:Rt},{stringify:function(t,e,i){var a=A(arguments),n=e;if((m(e)||void 0!==t)&&!g(t))return v(e)||(e=function(t,e){if(b(n)&&(e=s(n,this,t,e)),!g(e))return e}),a[1]=e,r(at,null,a)}})}if(!tt[U]){var kt=tt.valueOf;V(tt,U,(function(t){return s(kt,this)}))}X(Q,N),I[J]=!0},af03:function(t,e,i){var a=i("d039");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},d28b:function(t,e,i){var a=i("746f");a("iterator")},e01a:function(t,e,i){"use strict";var a=i("23e7"),n=i("83ab"),o=i("da84"),r=i("e330"),s=i("1a2d"),c=i("1626"),d=i("3a9b"),h=i("577e"),u=i("9bf2").f,l=i("e893"),f=o.Symbol,v=f&&f.prototype;if(n&&c(f)&&(!("description"in v)||void 0!==f().description)){var b={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:h(arguments[0]),e=d(v,this)?new f(t):void 0===t?f():f(t);return""===t&&(b[e]=!0),e};l(m,f),m.prototype=v,v.constructor=m;var p="Symbol(test)"==String(f("test")),g=r(v.toString),w=r(v.valueOf),y=/^Symbol\((.*)\)[^)]+$/,O=r("".replace),j=r("".slice);u(v,"description",{configurable:!0,get:function(){var t=w(this),e=g(t);if(s(b,t))return"";var i=p?j(e,7,-1):O(e,y,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:m})}},e538:function(t,e,i){var a=i("b622");e.f=a},f748:function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},f8c9:function(t,e,i){var a=i("23e7"),n=i("da84"),o=i("d44e");a({global:!0},{Reflect:{}}),o(n.Reflect,"Reflect",!0)}}]);
//# sourceMappingURL=chunk-4598d0e2.ee9f17e6.js.map