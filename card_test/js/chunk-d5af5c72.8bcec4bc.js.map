{"version":3,"sources":["webpack:///./src/views/CardsDemo2.vue","webpack:///./src/views/CardsDemo2.vue?1c85","webpack:///./src/views/CardsDemo2.vue?b436"],"names":["class","bg","containerClicked","hasDampMotion","translate","containerTranslate","cardContents","item","i","key","rotate","blur","cardClicked","$event","cardMouseEnter","cardMouseLeave","cardBroughtToFront","cardBroughtToBack","front","text","data","cardLayGap","swipeInterval","undefined","leftmostPosition","maxLeftmostPosition","layRotateAngle","mousePosX","mousePosY","swipeSpeed","swipeDeadzoneWidth","stopMotion","created","this","push","cardMove__Lay","setInterval","updateLeftmostPosition","window","addEventListener","getMousePosX","length","computed","$route","params","methods","tempContent","pos","val","clientX","document","body","clientWidth","clientY","relativeSpeed","Math","abs","pow","updateCardRowPositions","forced","e","console","log","$nextTick","style","transform","watch","beforeUnmount","clearInterval","removeEventListener","__exports__","render"],"mappings":"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","file":"js/chunk-d5af5c72.8bcec4bc.js","sourcesContent":["<template>\r\n  <div class=\"demo-container\"\r\n  :class=\"{'demo-container-w-bg': bg>0}\"\r\n    @click=\"containerClicked\">\r\n    <card-dynamic-container\r\n    :hasDampMotion=\"false\"\r\n    @containerClicked=\"containerClicked\">\r\n      <inner-dynamic-container\r\n      :translate=\"containerTranslate\">\r\n        <dynamic-card v-for=\"(item, i) in cardContents\" :key=\"i\"\r\n        :translate=\"item.translate\"\r\n        :rotate=\"item.rotate\"\r\n        :blur=\"item.blur\"\r\n        @clicked=\"cardClicked($event, i)\"\r\n        @mouseenter=\"cardMouseEnter($event, i)\"\r\n        @mouseleave=\"cardMouseLeave($event, i)\"\r\n        @front=\"cardBroughtToFront($event, i)\"\r\n        @back=\"cardBroughtToBack($event, i)\"\r\n        class=\"lay-card\"\r\n        >\r\n          <template v-slot:front>\r\n            <span class=\"card-front-style\">{{item.text}}</span>\r\n          </template>\r\n        </dynamic-card>\r\n      </inner-dynamic-container>\r\n    </card-dynamic-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      /**\r\n       * in cardContents,\r\n       *    translate indicates each card's translation **relative to table center**\r\n       */\r\n      cardContents: [],\r\n\r\n      // lay\r\n      cardLayGap: 200,\r\n      swipeInterval: undefined,\r\n      leftmostPosition: 0,\r\n      maxLeftmostPosition: 300,\r\n      layRotateAngle: 45,\r\n\r\n      // swipe\r\n      mousePosX: -1,\r\n      mousePosY: -1,\r\n      swipeSpeed: 2000,\r\n      swipeDeadzoneWidth: 0.2,\r\n\r\n      containerTranslate: [0,0,0],\r\n      stopMotion: false\r\n    }\r\n  },\r\n  created() {\r\n    for (let i = 0; i < 7; i++) {\r\n      this.cardContents.push(\r\n        {\r\n          translate: [0,0,0],\r\n          rotate: [0,0,0],\r\n          blur: 0,\r\n          text: \"card\" + (i+1)\r\n        }\r\n      )\r\n    }\r\n    this.cardMove__Lay()\r\n    this.swipeInterval = setInterval(this.updateLeftmostPosition, \"50\")\r\n    window.addEventListener('mousemove', this.getMousePosX)\r\n    this.maxLeftmostPosition = (this.cardContents.length - 1) * this.cardLayGap\r\n  },\r\n  computed: {\r\n    bg() {\r\n      return this.$route.params.bg;\r\n    }\r\n  },\r\n  methods: {\r\n    cardMove__Lay() {\r\n      this.containerTranslate[0] = this.leftmostPosition\r\n      for(let i = 0; i < this.cardContents.length; i++) {\r\n        let tempContent = this.cardContents[i]\r\n        let pos = i * this.cardLayGap\r\n        tempContent.rotate = [this.layRotateAngle,0,0]\r\n        tempContent.translate = [pos, 0, 0]\r\n        tempContent.blur = 0\r\n      }\r\n    },\r\n    getMousePosX(val) {\r\n      this.mousePosX = val.clientX / document.body.clientWidth\r\n      this.mousePosY = val.clientY\r\n    },\r\n    updateLeftmostPosition() {\r\n      let relativeSpeed = Math.abs(0.5 - this.mousePosX) - this.swipeDeadzoneWidth / 2\r\n      // console.log(relativeSpeed)\r\n      if (relativeSpeed < 0) {\r\n        return\r\n      }\r\n      if (this.leftmostPosition >= 0 && this.mousePosX < 0.5) {\r\n        this.leftmostPosition = 0\r\n      }\r\n      else if (this.leftmostPosition <= -this.maxLeftmostPosition && this.mousePosX > 0.5) {\r\n        this.leftmostPosition = -this.maxLeftmostPosition\r\n      }\r\n      else {\r\n        relativeSpeed = Math.pow(relativeSpeed, 4)\r\n        if (this.mousePosX < 0.5) {\r\n          this.leftmostPosition += this.swipeSpeed * relativeSpeed\r\n        }\r\n        else {\r\n          this.leftmostPosition -= this.swipeSpeed * relativeSpeed\r\n        }\r\n      }\r\n      this.updateCardRowPositions()\r\n    },\r\n    updateCardRowPositions(forced) {\r\n      if (!this.stopMotion || forced) {\r\n        this.containerTranslate[0] = this.leftmostPosition\r\n      }\r\n      // for(let i = 0; i < this.cardContents.length; i++) {\r\n      //   let tempContent = this.cardContents[i]\r\n      //   let pos = this.leftmostPosition + i * this.cardLayGap\r\n      //   // tempContent.rotate = [45,0,0]\r\n      //   tempContent.translate = [pos, 0, 0]\r\n      //   // tempContent.blur = 0\r\n      // }\r\n    },\r\n    cardClicked(e, val) {\r\n      console.log(val)\r\n    },\r\n    cardMouseEnter(e, val) {\r\n      this.cardContents[val].rotate[0] = 20\r\n    },\r\n    cardMouseLeave(e, val) {\r\n      this.cardContents[val].rotate[0] = this.layRotateAngle\r\n    },\r\n    containerClicked() {\r\n      console.log('clicked')\r\n    },\r\n    cardBroughtToFront(e, val) {\r\n      this.stopMotion = true\r\n      this.leftmostPosition = -this.cardLayGap * val\r\n      this.$nextTick(() => {\r\n        e.style.transform = `translateZ(${200}pt) translateX(${-this.leftmostPosition}pt)`\r\n      })\r\n      this.updateCardRowPositions(true)\r\n    },\r\n    cardBroughtToBack(e, val) {\r\n      this.stopMotion = false\r\n      this.leftmostPosition = -this.cardLayGap * val\r\n      this.updateCardRowPositions()\r\n\r\n    }\r\n  },\r\n  watch: {\r\n    bg(val) {\r\n      console.log(val)\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    // this.cardMove__Lay()\r\n    clearInterval(this.updateLeftmostPosition)\r\n    window.removeEventListener('mousemove', this.getMousePosX)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.demo-container {\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.demo-container-w-bg {\r\n  background: url(http://www.zastavki.com/pictures/1920x1200/2009/Creative_Wallpaper_Wood_Floor_018360_.jpg);\r\n}\r\n.card-front-style {\r\n  font-size: 40pt;\r\n}\r\n.lay-card {\r\n  transform-origin: 0 252pt 0;\r\n}\r\n</style>","import { render } from \"./CardsDemo2.vue?vue&type=template&id=e5dc633e&scoped=true\"\nimport script from \"./CardsDemo2.vue?vue&type=script&lang=js\"\nexport * from \"./CardsDemo2.vue?vue&type=script&lang=js\"\n\nimport \"./CardsDemo2.vue?vue&type=style&index=0&id=e5dc633e&scoped=true&lang=css\"\n\nimport exportComponent from \"H:\\\\hhx\\\\hhx_works\\\\sandbox\\\\sandbox\\\\card_test\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e5dc633e\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CardsDemo2.vue?vue&type=style&index=0&id=e5dc633e&scoped=true&lang=css\""],"sourceRoot":""}