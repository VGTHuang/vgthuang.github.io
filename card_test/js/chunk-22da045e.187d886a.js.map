{"version":3,"sources":["webpack:///./src/views/CardsDemoPerfTest2.vue?db59","webpack:///./src/views/CardsDemoPerfTest2.vue","webpack:///./src/views/CardsDemoPerfTest2.vue?59bc"],"names":["class","bg","hasDampMotion","containerClicked","translate","containerTranslate","cardContents","item","i","key","rotate","blur","noFrontBackButton","noDefaultBack","cardMouseEnter","$event","cardMouseLeave","cardBroughtToFront","cardBroughtToBack","front","cardFlip","style","src","frontUrl","placeholder","animated","template","variant","error","back","backUrl","data","randImageId","cardLayGap","swipeInterval","undefined","leftmostPosition","maxLeftmostPosition","layRotateAngle","mousePosX","mousePosY","swipeSpeed","swipeDeadzoneWidth","stopMotion","created","this","push","getRandImage","cardMove__Lay","setInterval","updateLeftmostPosition","window","addEventListener","getMousePosX","length","computed","$route","params","methods","Math","floor","random","tempContent","pos","val","clientX","document","body","clientWidth","clientY","relativeSpeed","abs","pow","updateCardRowPositions","forced","e","console","log","watch","beforeUnmount","clearInterval","removeEventListener","__exports__","render"],"mappings":"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","file":"js/chunk-22da045e.187d886a.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CardsDemoPerfTest2.vue?vue&type=style&index=0&id=3ae64658&scoped=true&lang=css\"","<template>\r\n  <div class=\"demo-container\"\r\n  :class=\"{'demo-container-w-bg': bg>0}\">\r\n    <card-dynamic-container\r\n    :hasDampMotion=\"false\"\r\n    @containerClicked=\"containerClicked\">\r\n      <inner-dynamic-container\r\n      :translate=\"containerTranslate\">\r\n        <dynamic-card v-for=\"(item, i) in cardContents\" :key=\"i\"\r\n        :translate=\"item.translate\"\r\n        :rotate=\"item.rotate\"\r\n        :blur=\"item.blur\"\r\n        :noFrontBackButton=\"true\"\r\n        :noDefaultBack=\"true\"\r\n        @mouseenter=\"cardMouseEnter($event, i)\"\r\n        @mouseleave=\"cardMouseLeave($event, i)\"\r\n        @front=\"cardBroughtToFront($event, i)\"\r\n        @back=\"cardBroughtToBack($event, i)\"\r\n        class=\"lay-card\"\r\n        >\r\n          <template v-slot:front>\r\n            <button @click=\"cardFlip($event, i, 1)\">flip</button>\r\n            <el-image style=\"width: 180px; height: 180px\" :src=\"item.frontUrl\">\r\n              <template #placeholder>\r\n                <el-skeleton animated>\r\n                  <template #template>\r\n                    <el-skeleton-item variant=\"image\" animated style=\"width: 180px; height: 180px\" />\r\n                  </template>\r\n                </el-skeleton>\r\n              </template>\r\n              <template #error>\r\n                <div class=\"image-slot\">\r\n                  <el-icon><Picture /></el-icon>\r\n                </div>\r\n              </template>\r\n              </el-image>\r\n          </template>\r\n          <template v-slot:back>\r\n            <button @click=\"cardFlip($event, i, 2)\">flip</button>\r\n            <el-image style=\"width: 180px; height: 180px\" :src=\"item.backUrl\">\r\n              <template #placeholder>\r\n                <el-skeleton animated>\r\n                  <template #template>\r\n                    <el-skeleton-item variant=\"image\" animated style=\"width: 180px; height: 180px\" />\r\n                  </template>\r\n                </el-skeleton>\r\n              </template>\r\n              <template #error>\r\n                <div class=\"image-slot\">\r\n                  <el-icon><Picture /></el-icon>\r\n                </div>\r\n              </template>\r\n            </el-image>\r\n          </template>\r\n        </dynamic-card>\r\n      </inner-dynamic-container>\r\n    </card-dynamic-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      /**\r\n       * in cardContents,\r\n       *    translate indicates each card's translation **relative to table center**\r\n       */\r\n      cardContents: [],\r\n\r\n      // rand image\r\n      randImageId: 1,\r\n\r\n      // lay\r\n      cardLayGap: 200,\r\n      swipeInterval: undefined,\r\n      leftmostPosition: 0,\r\n      maxLeftmostPosition: 300,\r\n      layRotateAngle: 45,\r\n\r\n      // swipe\r\n      mousePosX: -1,\r\n      mousePosY: -1,\r\n      swipeSpeed: 2000,\r\n      swipeDeadzoneWidth: 0.2,\r\n\r\n      containerTranslate: [0,0,0],\r\n      stopMotion: false\r\n    }\r\n  },\r\n  created() {\r\n    for (let i = 0; i < 7; i++) {\r\n      this.cardContents.push(\r\n        {\r\n          translate: [0,0,0],\r\n          rotate: [0,0,0],\r\n          blur: 0,\r\n          frontUrl: this.getRandImage(),\r\n          backUrl: this.getRandImage()\r\n        }\r\n      )\r\n    }\r\n    this.cardMove__Lay()\r\n    this.swipeInterval = setInterval(this.updateLeftmostPosition, \"50\")\r\n    window.addEventListener('mousemove', this.getMousePosX)\r\n    this.maxLeftmostPosition = (this.cardContents.length - 1) * this.cardLayGap\r\n  },\r\n  computed: {\r\n    bg() {\r\n      return this.$route.params.bg;\r\n    }\r\n  },\r\n  methods: {\r\n    getRandImage() {\r\n      this.randImageId = Math.floor(Math.random() * 1024)\r\n      return `https://picsum.photos/id/${this.randImageId}/180/180`\r\n    },\r\n    cardMove__Lay() {\r\n      this.containerTranslate[0] = this.leftmostPosition\r\n      for(let i = 0; i < this.cardContents.length; i++) {\r\n        let tempContent = this.cardContents[i]\r\n        let pos = i * this.cardLayGap\r\n        tempContent.rotate = [this.layRotateAngle,0,0]\r\n        tempContent.translate = [pos, 0, 0]\r\n        tempContent.blur = 0\r\n      }\r\n    },\r\n    getMousePosX(val) {\r\n      this.mousePosX = val.clientX / document.body.clientWidth\r\n      this.mousePosY = val.clientY\r\n    },\r\n    updateLeftmostPosition() {\r\n      let relativeSpeed = Math.abs(0.5 - this.mousePosX) - this.swipeDeadzoneWidth / 2\r\n      // console.log(relativeSpeed)\r\n      if (relativeSpeed < 0) {\r\n        return\r\n      }\r\n      if (this.leftmostPosition >= 0 && this.mousePosX < 0.5) {\r\n        this.leftmostPosition = 0\r\n      }\r\n      else if (this.leftmostPosition <= -this.maxLeftmostPosition && this.mousePosX > 0.5) {\r\n        this.leftmostPosition = -this.maxLeftmostPosition\r\n      }\r\n      else {\r\n        relativeSpeed = Math.pow(relativeSpeed, 4)\r\n        if (this.mousePosX < 0.5) {\r\n          this.leftmostPosition += this.swipeSpeed * relativeSpeed\r\n        }\r\n        else {\r\n          this.leftmostPosition -= this.swipeSpeed * relativeSpeed\r\n        }\r\n      }\r\n      this.updateCardRowPositions()\r\n    },\r\n    updateCardRowPositions(forced) {\r\n      if (!this.stopMotion || forced) {\r\n        this.containerTranslate[0] = this.leftmostPosition\r\n      }\r\n      // for(let i = 0; i < this.cardContents.length; i++) {\r\n      //   let tempContent = this.cardContents[i]\r\n      //   let pos = this.leftmostPosition + i * this.cardLayGap\r\n      //   // tempContent.rotate = [45,0,0]\r\n      //   tempContent.translate = [pos, 0, 0]\r\n      //   // tempContent.blur = 0\r\n      // }\r\n    },\r\n    cardMouseEnter(e, val) {\r\n      this.cardContents[val].rotate[0] = 20\r\n    },\r\n    cardMouseLeave(e, val) {\r\n      this.cardContents[val].rotate[0] = this.layRotateAngle\r\n    },\r\n    // cardBroughtToFront(e, val) {\r\n    //   this.stopMotion = true\r\n    //   this.leftmostPosition = -this.cardLayGap * val\r\n    //   this.$nextTick(() => {\r\n    //     e.style.transform = `translateZ(${200}pt) translateX(${-this.leftmostPosition}pt)`\r\n    //   })\r\n    //   this.updateCardRowPositions(true)\r\n    // },\r\n    // cardBroughtToBack(e, val) {\r\n    //   this.stopMotion = false\r\n    //   this.leftmostPosition = -this.cardLayGap * val\r\n    //   this.updateCardRowPositions()\r\n    // },\r\n    cardFlip(e, val, i) {\r\n      console.log(this.cardContents[val].rotate)\r\n      this.cardContents[val].rotate[1] += 180\r\n      if (i == 1) {\r\n        this.cardContents[val].backUrl = this.getRandImage()\r\n      }\r\n      else {\r\n        this.cardContents[val].frontUrl = this.getRandImage()\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    bg(val) {\r\n      console.log(val)\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    // this.cardMove__Lay()\r\n    clearInterval(this.updateLeftmostPosition)\r\n    window.removeEventListener('mousemove', this.getMousePosX)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.demo-container {\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.lay-card {\r\n  transform-origin: 50% 100% 0;\r\n}\r\n.lay-card >>> .card__front, \r\n.lay-card >>> .card__back {\r\n  flex-direction: column;\r\n}\r\n</style>","import { render } from \"./CardsDemoPerfTest2.vue?vue&type=template&id=3ae64658&scoped=true\"\nimport script from \"./CardsDemoPerfTest2.vue?vue&type=script&lang=js\"\nexport * from \"./CardsDemoPerfTest2.vue?vue&type=script&lang=js\"\n\nimport \"./CardsDemoPerfTest2.vue?vue&type=style&index=0&id=3ae64658&scoped=true&lang=css\"\n\nimport exportComponent from \"H:\\\\hhx\\\\hhx_works\\\\sandbox\\\\sandbox\\\\card_test\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3ae64658\"]])\n\nexport default __exports__"],"sourceRoot":""}